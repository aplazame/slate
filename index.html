<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="author" content="Aplazame developers">
    <meta name="description" content="Aplazame API docs">

    <link href="https://aplazame.com/static/img/favicon.png" rel="shortcut icon" type="image/x-icon"/>
    <link href="https://aplazame.com/static/img/favicon-144.png" rel="apple-touch-icon" sizes="144x144"/>
    <link href="https://aplazame.com/static/img/favicon-72.png" rel="apple-touch-icon" sizes="72x72"/>
    <link href="https://aplazame.com/static/img/favicon-57.png" rel="apple-touch-icon" sizes="57x57"/>

    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js"></script>

      <script>
        $(function() {
          setupLanguages(["http","shell","python","js"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="http">http</a>
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="js">js</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='mailto:soporte@aplazame.com?subject=I want my API Key'>Contact us for a Developer Key</a></li>
            <li><a href='https://aplazame.com'>Documentation Powered by Aplazame</a></li>
        </ul>
      <div class="toc-copyright">
        © 2015 Aplazame<br>
        Nuñez de Balboa, 120 semisótano<br>
        Coworking Cink, Madrid
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>
<pre class="highlight plaintext"><code>      o o o o ~~  ~~ ~                   &gt;')
   o     _____         ______________  ___(=&gt;)_____
 .][_mm__|[]| ,===___ || Welcome to | |   Duck     |
&gt;(_______|__|_|_----_]_|    doc$    |_|  season    |
_/oo-OOOO-oo' !oo!!oo!=`!o!o!--!o!o!'=`!o!o!--!o!o!'=
+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+
</code></pre>
<pre class="highlight http"><code><span class="nf">TRACE</span> <span class="nn">/:PATH</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">something</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">my public/private key</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK?, then let's go!</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">something</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com"</span> <span class="se">\</span>
    -H <span class="s2">"User-Agent: Get ready for a lot of fun and excitement"</span> <span class="se">\</span>
    -X ECHO
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">somewhere</span> <span class="kn">import</span> <span class="n">something</span>

<span class="k">assert</span><span class="p">(</span><span class="n">something</span><span class="o">.</span><span class="n">__doc__</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">)</span>
</code></pre>

<h3 id="i-39-m-ecommerce">I&rsquo;M ECOMMERCE</h3>

<p>Ease of implementation is the main objective we had in mind when developing Aplazame’s REST API.</p>

<p>If you have an e-commerce platform, you may find a suitable plugin from our <a href="#img-alt-github-src-http-icons-iconarchive-com-icons-social-media-icons-social-buntings-32-github-icon-png">installable plugins</a> list.</p>

<p>Otherwise you will have to carefully follow the instructions contained in this documentation, starting with the <a href="#3-steps-to-checkout-v2">3 step Checkout</a> and following to our <a href="#making-requests">API description</a>, which defines the available services and the steps required to establish communication with our endpoints.</p>

<h3 id="i-39-m-an-aplazame-s-service">I&rsquo;M AN APLAZAME’S SERVICE</h3>

<p>If you are an Aplazame service, you may be interested in viewing information of <a href="#customers">users</a> and / or <a href="#orders">orders</a>.</p>

<p>Our API service will recognize your credentials and will provide you exclusively with the information required by the service you are using.</p>

<h3 id="i-39-m-a-python-developer">I&rsquo;M A PYTHON DEVELOPER</h3>

<p>Do you have at least three years of experience?, Internet is your passion?, we want to meet you!!</p>

<p>We work with GIS data, NoSQL databases (Elasticsearch, Neo4J, MongoDB &hellip;) and Django in the backend, Angular in the front and Scrapy for our spiders. Furthermore we like to develop readable and self-explanatory code, following both our own style and best practice from third parties.</p>

<p>On the DevOps side, we use Vagrant for setting up working environments, we use Ansibles for our deployments and we love playing with Docker :)</p>

<p>If you <strong>enjoy</strong> working with some of these technologies and would like to have fun working with us to fix the financial sector by offering people fair and convenient financing send us a line at <a href="mailto:jobs@aplazame.com?subject=Hello world">jobs@aplazame.com</a>.</p>

<h3 id="i-need-help">I NEED HELP</h3>

<p>For any support request please drop us an email at <a href="mailto:soporte@aplazame.com?subject=Help me">soporte@aplazame.com</a>. Our support team is available 24/7 and has the resources to monitor all your communications and thus identify any problems you may have.</p>

<h3 id="feedback">FEEDBACK</h3>

<p>We are open to changes in the API documentation and our services. For any suggestions please send us an email to  <a href="mailto:dev@aplazame.com?subject=Hello">dev@aplazame.com</a>.</p>

<p><strong>We hope you&rsquo;ll enjoy using Aplázame&rsquo;s API!</strong></p>

          <h1 id="live-demo">Live demo</h1>

<ul>
<li>Aplazame Checkout: <a href="http://demo.aplazame.com">demo.aplazame.com</a></li>
<li>Magento: <a href="http://magento.aplazame.com">magento.aplazame.com</a></li>
<li>Prestashop: <a href="http://prestashop.aplazame.com">prestashop.aplazame.com</a></li>
<li>WooCommerce: <a href="http://woo.aplazame.com?post_type=product">woo.aplazame.com</a></li>
</ul>

          <h1 id="3-steps-to-checkout-v2">3 Steps to Checkout v2</h1>

<blockquote>
<p>How to import</p>
</blockquote>
<pre class="highlight html"><code><span class="nt">&lt;script
  </span><span class="na">type=</span><span class="s">"text/javascript"</span>
  <span class="na">src=</span><span class="s">"https://aplazame.com/static/aplazame.min.js"</span>
  <span class="na">data-aplazame=</span><span class="s">"publicKey: -&gt;AccessToken&lt;-"</span>
  <span class="na">data-version=</span><span class="s">"1.2"</span>
  <span class="na">data-sandbox=</span><span class="s">"true"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>

<h3 id="script-options">Script options</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>publicKey</td>
<td>hash</td>
<td>yes</td>
<td>your public -&gt;AccessToken&lt;-.</td>
</tr>
<tr>
<td>version</td>
<td>float</td>
<td>no</td>
<td>Api.Checkout version, by default is 1.2</td>
</tr>
<tr>
<td>sandbox</td>
<td>boolean</td>
<td>no</td>
<td>Determines if the request is in sandbox mode.</td>
</tr>
</tbody></table>

<h2 id="1-button">1 Button</h2>

<blockquote>
<p>How to use it</p>
</blockquote>
<pre class="highlight html"><code><span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span>
  <span class="na">data-amount=</span><span class="s">"12050"</span>
  <span class="na">data-currency=</span><span class="s">"EUR"</span>
  <span class="na">data-country=</span><span class="s">"ES"</span><span class="nt">&gt;&lt;/button&gt;</span>

<span class="nt">&lt;div</span> <span class="na">data-aplazame-payment-info=</span><span class="s">""</span><span class="nt">&gt;</span>lorem ipsum...<span class="nt">&lt;/div&gt;</span>
</code></pre>

<blockquote>
<p>you can use js directly</p>
</blockquote>
<pre class="highlight javascript"><code><span class="nx">aplazame</span><span class="p">.</span><span class="nx">button</span><span class="p">({</span>
  <span class="na">button</span><span class="p">:</span> <span class="s1">'#some-button-or-wrapper-id'</span>  <span class="c1">// accepts any valid css selector</span>
  <span class="na">amount</span><span class="p">:</span> <span class="mi">12050</span><span class="p">,</span>
  <span class="na">currency</span><span class="p">:</span> <span class="s1">'EUR'</span><span class="p">,</span>
  <span class="na">country</span><span class="p">:</span> <span class="s1">'ES'</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>you can even check by amount</p>
</blockquote>
<pre class="highlight javascript"><code><span class="nx">aplazame</span><span class="p">.</span><span class="nx">button</span><span class="p">.</span><span class="nx">check</span><span class="p">(</span><span class="mi">12050</span><span class="p">,</span> <span class="s1">'EUR'</span><span class="p">,</span> <span class="s1">'ES'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">allowed</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* your code */</span> <span class="p">});</span>
</code></pre>

<p>Start by including in the payment method selection menu a script that checks, through our API, whether the request can be processed.</p>

<h3 id="button-parameters">Button parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td><a href="#decimals">decimal</a></td>
<td>yes</td>
<td>Order total amount.</td>
</tr>
<tr>
<td>currency</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_4217">ISO 4217</a></td>
<td>yes</td>
<td>Currency code of the order.</td>
</tr>
<tr>
<td>country</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_3166-1">ISO 3166-1</a></td>
<td>no</td>
<td>Country code.</td>
</tr>
<tr>
<td>parent</td>
<td>selector</td>
<td>no</td>
<td>Parent tag to hide, &ldquo;*&rdquo; for the first parent node.</td>
</tr>
</tbody></table>

<p>Take your button <strong>image</strong> <a href="#buttons">here</a>!!</p>

<h3 id="allowed-countries">Allowed countries</h3>

<ul>
<li>Spain (ES)</li>
</ul>

<h2 id="2-checkout">2 Checkout</h2>

<blockquote>
<p>How to use it</p>
</blockquote>
<pre class="highlight javascript"><code><span class="nx">aplazame</span><span class="p">.</span><span class="nx">checkout</span><span class="p">({</span>
  <span class="s2">"toc"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"order"</span><span class="p">:</span> <span class="p">{},</span>
  <span class="s2">"customer"</span><span class="p">:</span> <span class="p">{},</span>
  <span class="s2">"billing"</span><span class="p">:</span> <span class="p">{},</span>
  <span class="s2">"shipping"</span><span class="p">:</span> <span class="p">{},</span>
  <span class="s2">"meta"</span><span class="p">:</span> <span class="p">{},</span>
  <span class="s2">"merchant"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"confirmation_url"</span><span class="p">:</span> <span class="s2">"/CONFIRM-STEP-3"</span><span class="p">,</span>
    <span class="s2">"cancel_url"</span><span class="p">:</span> <span class="s2">"/"</span><span class="p">,</span>
    <span class="s2">"success_url"</span><span class="p">:</span> <span class="s2">"/"</span><span class="p">,</span>
    <span class="s2">"checkout_url"</span><span class="p">:</span> <span class="s2">"/"</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<p>Once your ecommerce is registered in our system, you can integrate the payment method including a javascript code in your template.</p>

<h3 id="checkout-parameters">Checkout parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><a href="#merchant">merchant</a></td>
<td>object</td>
<td>yes</td>
<td>Your merchant data.</td>
</tr>
<tr>
<td><a href="#customer">customer</a></td>
<td>object</td>
<td>yes</td>
<td>Checkout customer.</td>
</tr>
<tr>
<td><a href="#order">order</a></td>
<td>object</td>
<td>yes</td>
<td>Your order data.</td>
</tr>
<tr>
<td><a href="#billing-address">billing</a></td>
<td>object</td>
<td>no</td>
<td>Billing address.</td>
</tr>
<tr>
<td><a href="#shipping-info">shipping</a></td>
<td>object</td>
<td>yes</td>
<td>Shipping info.</td>
</tr>
<tr>
<td>meta</td>
<td>json</td>
<td>no</td>
<td>SDK-Client info.</td>
</tr>
</tbody></table>

<h2 id="3-confirm">3 Confirm</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/confirmation_url</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>

{
  "checkout_token": ":orderId"
}
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/orders/:orderId/authorize</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "id": ":orderId",
  "amount": 12050
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders/:orderId/authorize"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.sandbox.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span> <span class="se">\</span>
    -X POST
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">':orderId'</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">POST https://api.aplazame.com/orders/:orderId/authorize</code></p>

<p>Once you have completed the checkout process, the client JS will send a signal to the URL of his backend <code class="prettyprint">confirmation_url</code> which will in turn send a request to this service to validate the order. Our server will respond with the total order and its corresponding ID, the same we were provided with during the integration.</p>

<h3 id="workflow">Workflow</h3>

<p><code class="prettyprint">CHECKOUT --(POST/ID)--&gt; Confirm --(POST/ID)--&gt; API /authorize</code></p>

<h3 id="authorize-request-url-parameters">Authorize request Url parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>string</td>
<td>String <code class="prettyprint">id</code> of the order to perform action with.</td>
</tr>
</tbody></table>

<h3 id="help">Help</h3>

<p>If you have any doubt about how to communicate with our API services, read the <strong><a href="#making-requests">docs</a></strong> or <a href="mailto:soporte@aplazame.com?subject=I have a doubt">contact us</a>.</p>

<h3 id="confirm-example">Confirm example</h3>

<pre class="highlight pseudo"><code><span class="na">FUNTION</span> confirm(request):
  <span class="na">SET</span> orderId <span class="na">to</span> request.POST['checkout_token']
  <span class="na">SET</span> order <span class="na">to</span> Session(orderId)

  <span class="na">IF</span> order not found <span class="na">THEN</span>:
    <span class="na">RETURN</span> <span class="se">Response(status_code = 404)</span>
  <span class="na">END IF</span>

  <span class="na">SET</span> client <span class="na">to</span> aplazameAPIClient()

  <span class="na">IF</span> is_sandbox <span class="na">THEN</span>:
    <span class="na">SET</span> client.headers[Accept] <span class="na">to</span> application/vnd.aplazame.sandbox.v1+json
  <span class="na">ELSE:</span>
    <span class="na">SET</span> client.headers[Accept] <span class="na">to</span> application/vnd.aplazame.v1+json
  <span class="na">END IF</span>
  
  <span class="na">SET</span> client.headers[Authorization] <span class="na">to</span> Bearer PrivateKey
  <span class="na">SET</span> response <span class="na">to</span> client.post(https://api.aplazame.com/orders/:orderId/authorize)

  <span class="na">IF</span> response.status_code = 200 <span class="na">AND</span> response.amount = order.total <span class="na">THEN</span>:
    <span class="na">SET</span> order.confirmed <span class="na">to</span> TRUE
    <span class="na">RETURN</span> <span class="ok">Response(status_code = 200/204)</span>
  <span class="na">ELSE:</span>
    <span class="na">RETURN</span> <span class="se">Response(status_code >= 400)</span>
  <span class="na">END IF</span>
<span class="na">END FUNTION</span>
</code></pre>

          <h1 id="checkout-items">Checkout Items</h1>

<h2 id="merchant">Merchant</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"toc"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"merchant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"confirmation_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/confirm"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cancel_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/cancel"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"success_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"checkout_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/checkout"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nt">"billing"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nt">"shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.1"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><a href="#3-confirm">confirmation_url</a></td>
<td>url</td>
<td>yes</td>
<td>url that the JS client sent to confirming the order.</td>
</tr>
<tr>
<td>cancel_url</td>
<td>url</td>
<td>yes</td>
<td>url that the customer is sent to if there is an error in the checkout.</td>
</tr>
<tr>
<td>success_url</td>
<td>url</td>
<td>yes</td>
<td>url that the customer is sent to after confirming their order.</td>
</tr>
<tr>
<td>checkout_url</td>
<td>url</td>
<td>no</td>
<td>url that the customer is sent to if the customer chooses to back to the eccommerce, by default is <code class="prettyprint">/</code>.</td>
</tr>
</tbody></table>

<aside class="warning">
Aplazame does not allow different orders with the same ID.
</aside>

<p>If you want to implement the <code class="prettyprint">checkout_url</code> make sure that the user does not <strong>return</strong> with a second cart and the <strong>same order ID</strong>.</p>

<h2 id="order">Order</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28475648233786783165"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"articles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89793238462643383279"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reloj en oro blanco de 18 quilates y diamantes"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">402000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tax_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">2100</span><span class="p">,</span><span class="w">
      </span><span class="nt">"discount_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Movimiento de cuarzo de alta precisión."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.chanel.com..."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.chanel.com..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"discount"</span><span class="p">:</span><span class="w"> </span><span class="mi">16000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">462000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>yes</td>
<td>Your order <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>discount</td>
<td><a href="#decimals">decimal</a></td>
<td>no</td>
<td>The discount amount of the order.</td>
</tr>
<tr>
<td>discount_rate</td>
<td><a href="#decimals">decimal</a></td>
<td>no</td>
<td>The rate discount of the order.</td>
</tr>
<tr>
<td>cart_discount</td>
<td><a href="#decimals">decimal</a></td>
<td>no</td>
<td>The discount amount of the cart.</td>
</tr>
<tr>
<td>cart_discount_rate</td>
<td><a href="#decimals">decimal</a></td>
<td>no</td>
<td>The rate discount of the cart.</td>
</tr>
<tr>
<td>currency</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_4217">ISO 4217</a></td>
<td>yes</td>
<td>Currency code of the order.</td>
</tr>
<tr>
<td>tax_rate</td>
<td><a href="#decimals">decimal</a></td>
<td>yes</td>
<td>Order tax rate.</td>
</tr>
<tr>
<td>total_amount</td>
<td><a href="#decimals">decimal</a></td>
<td>yes</td>
<td>Order total amount.</td>
</tr>
<tr>
<td><a href="#article">articles</a></td>
<td>collection</td>
<td>yes</td>
<td>Articles in cart.</td>
</tr>
</tbody></table>

<h3 id="tax">Tax</h3>

<p>Every item of the order must have a tax rate <code class="prettyprint">tax_rate</code>. You can include this rate globally in <code class="prettyprint">order.tax_rate</code> or you can choose to apply the rate to every item and shipping.</p>

<aside class="notice">
The tax rate of every article or shipping overrides the global tax rate in case there is one.
</aside>

<h2 id="article">Article</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89793238462643383279"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reloj en oro blanco de 18 quilates y diamantes"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">402000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tax_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">2100</span><span class="p">,</span><span class="w">
  </span><span class="nt">"discount_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Movimiento de cuarzo de alta precisión"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.chanel.com..."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.chanel.com..."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>yes</td>
<td>The article <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>yes</td>
<td>Article name.</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>no</td>
<td>Article description.</td>
</tr>
<tr>
<td>url</td>
<td>url</td>
<td>yes</td>
<td>Article url.</td>
</tr>
<tr>
<td>image_url</td>
<td>url</td>
<td>yes</td>
<td>Article image url.</td>
</tr>
<tr>
<td>quantity</td>
<td>integer</td>
<td>yes</td>
<td>Article quantity.</td>
</tr>
<tr>
<td>price</td>
<td><a href="#decimals">decimal</a></td>
<td>yes</td>
<td>Article price (tax is not included).</td>
</tr>
<tr>
<td>tax_rate</td>
<td><a href="#decimals">decimal</a></td>
<td>no</td>
<td>Article tax_rate.</td>
</tr>
<tr>
<td>discount</td>
<td><a href="#decimals">decimal</a></td>
<td>no</td>
<td>The discount amount of the article.</td>
</tr>
<tr>
<td>discount_rate</td>
<td><a href="#decimals">decimal</a></td>
<td>no</td>
<td>The rate discount of the article.</td>
</tr>
</tbody></table>

<h2 id="customer">Customer</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1618"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev@aplazame.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"616123456"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alt_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+34917909930"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plaza del Angel nº10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address_addition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cerca de la plaza Santa Ana"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Madrid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Madrid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ES"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28012"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Coltrane"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"date_joined"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-21T13:56:45+0000"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-27T19:57:56+0000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>yes</td>
<td>Customer <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>yes</td>
<td>The customer email.</td>
</tr>
<tr>
<td>type</td>
<td>char</td>
<td>yes</td>
<td>Customer type, the choices are <code class="prettyprint">g</code>:guest, <code class="prettyprint">n</code>:new, <code class="prettyprint">e</code>:existing.</td>
</tr>
<tr>
<td>gender</td>
<td>integer</td>
<td>yes</td>
<td>Customer gender, the choices are <code class="prettyprint">0</code>: not known, <code class="prettyprint">1</code>: male, <code class="prettyprint">2</code>:female, <code class="prettyprint">3</code>: not applicable.</td>
</tr>
<tr>
<td>first_name</td>
<td>string</td>
<td>no</td>
<td>Customer first name.</td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>no</td>
<td>Customer last name.</td>
</tr>
<tr>
<td>birthday</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>no</td>
<td>Customer birthday.</td>
</tr>
<tr>
<td>language</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_639-1">ISO 639-1</a></td>
<td>no</td>
<td>Customer language preferences.</td>
</tr>
<tr>
<td>date_joined</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>no</td>
<td>A datetime designating when the customer account was created.</td>
</tr>
<tr>
<td>last_login</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>no</td>
<td>A datetime of the customer last login.</td>
</tr>
<tr>
<td><a href="#customer-address">address</a></td>
<td><a href="http://docs.aplazame.com/#customer-address">object</a></td>
<td>no</td>
<td>Customer address.</td>
</tr>
</tbody></table>

<h2 id="customer-address">Customer Address</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"616123456"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"alt_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+34917909930"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plaza del Angel nº10"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"address_addition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cerca de la plaza Santa Ana"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Madrid"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Madrid"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ES"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28012"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>first_name</td>
<td>string</td>
<td>yes</td>
<td>Address first name.</td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>yes</td>
<td>Address last name.</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>no</td>
<td>Address phone number.</td>
</tr>
<tr>
<td>alt_phone</td>
<td>string</td>
<td>no</td>
<td>Address alternative phone.</td>
</tr>
<tr>
<td>street</td>
<td>string</td>
<td>yes</td>
<td>Address street.</td>
</tr>
<tr>
<td>address_addition</td>
<td>string</td>
<td>no</td>
<td>Address address addition.</td>
</tr>
<tr>
<td>city</td>
<td>string</td>
<td>yes</td>
<td>Address city.</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>yes</td>
<td>Address state.</td>
</tr>
<tr>
<td>country</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_3166-1">ISO 3166-1</a></td>
<td>yes</td>
<td>Address country code.</td>
</tr>
<tr>
<td>postcode</td>
<td>string</td>
<td>yes</td>
<td>Address postcode.</td>
</tr>
</tbody></table>

<h2 id="billing-address">Billing address</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bill"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Evans"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+34914298407"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"alt_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle de Las Huertas 22"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"address_addition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cerca de la pizzería"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Madrid"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Madrid"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ES"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28014"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>first_name</td>
<td>string</td>
<td>yes</td>
<td>Billing first name.</td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>yes</td>
<td>Billing last name.</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>no</td>
<td>Billing phone number.</td>
</tr>
<tr>
<td>alt_phone</td>
<td>string</td>
<td>no</td>
<td>Billing alternative phone.</td>
</tr>
<tr>
<td>street</td>
<td>string</td>
<td>yes</td>
<td>Billing street.</td>
</tr>
<tr>
<td>address_addition</td>
<td>string</td>
<td>no</td>
<td>Billing address addition.</td>
</tr>
<tr>
<td>city</td>
<td>string</td>
<td>yes</td>
<td>Billing city.</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>yes</td>
<td>Billing state.</td>
</tr>
<tr>
<td>country</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_3166-1">ISO 3166-1</a></td>
<td>yes</td>
<td>Billing country code.</td>
</tr>
<tr>
<td>postcode</td>
<td>string</td>
<td>yes</td>
<td>Billing postcode code.</td>
</tr>
</tbody></table>

<h2 id="shipping-info">Shipping info</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Django"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reinhard"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"616123456"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"alt_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+34917909930"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plaza del Angel nº10"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"address_addition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cerca de la plaza Santa Ana"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Madrid"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Madrid"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ES"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28012"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tax_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">2100</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Planet Express"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"discount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>first_name</td>
<td>string</td>
<td>yes</td>
<td>Shipping first name.</td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>yes</td>
<td>Shipping last name.</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>no</td>
<td>Shipping phone number.</td>
</tr>
<tr>
<td>alt_phone</td>
<td>string</td>
<td>no</td>
<td>Shipping alternative phone.</td>
</tr>
<tr>
<td>street</td>
<td>string</td>
<td>yes</td>
<td>Shipping street.</td>
</tr>
<tr>
<td>address_addition</td>
<td>string</td>
<td>no</td>
<td>Shipping address addition.</td>
</tr>
<tr>
<td>city</td>
<td>string</td>
<td>yes</td>
<td>Shipping city.</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>yes</td>
<td>Shipping state.</td>
</tr>
<tr>
<td>country</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_3166-1">ISO 3166-1</a></td>
<td>yes</td>
<td>Shipping country code.</td>
</tr>
<tr>
<td>postcode</td>
<td>string</td>
<td>yes</td>
<td>Shipping postcode code.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>yes</td>
<td>Shipping name.</td>
</tr>
<tr>
<td>price</td>
<td><a href="#decimals">decimal</a></td>
<td>yes</td>
<td>Shipping price (tax is not included).</td>
</tr>
<tr>
<td>tax_rate</td>
<td><a href="#decimals">decimal</a></td>
<td>no</td>
<td>Shipping tax rate.</td>
</tr>
<tr>
<td>discount</td>
<td><a href="#decimals">decimal</a></td>
<td>no</td>
<td>The discount amount of the shipping.</td>
</tr>
<tr>
<td>discount_rate</td>
<td><a href="#decimals">decimal</a></td>
<td>no</td>
<td>The rate discount of the shipping.</td>
</tr>
</tbody></table>

          <h1 id="test-data">Test Data</h1>

<h2 id="one-time-password">One time password</h2>

<aside class="notice">
Checkouts in SANDBOX mode will not ​send any SMS. The pin code will be displayed behind the form.
</aside>

<p><img alt="PIN Code" src="https://aplazame.com/static/img/docs/demo-code.png" /></p>

<h2 id="credit-cards">Credit cards</h2>

<p>Aplazame provides a set of test data to test your initial integration. This test data is only recognized as such by the sandbox environment.</p>

<table><thead>
<tr>
<th>CARD TYPE</th>
<th> GOOD CARD</th>
<th>DECLINED/FAILED CARD</th>
</tr>
</thead><tbody>
<tr>
<td>Visa</td>
<td>4111111111111111</td>
<td>4012888888881881</td>
</tr>
<tr>
<td>MasterCard</td>
<td>5555555555554444</td>
<td>5105105105105100</td>
</tr>
<tr>
<td>American Express</td>
<td>378282246310005</td>
<td>371449635398431</td>
</tr>
<tr>
<td>Discover</td>
<td>6011111111111117</td>
<td>6011000990139424</td>
</tr>
<tr>
<td>3D Secure Enrolled</td>
<td>4556761029983886</td>
<td>4024007101934890</td>
</tr>
</tbody></table>

          <h1 id="making-requests">Making Requests</h1>

<h2 id="headers">Headers</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'access_token'</span><span class="p">,</span> <span class="n">ctype</span><span class="o">=</span><span class="s">'json'</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s">'1'</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">()</span>
</code></pre>

<ul>
<li><strong>Authorization</strong>: oauth2 Bearer Token published as <a href="http://tools.ietf.org/html/rfc6750">RFC 6750</a></li>
<li><strong>Accept</strong>: to specify certain media types which are acceptable for the response.</li>
</ul>

<h3 id="authentication">Authentication</h3>

<p><a href="http://en.wikipedia.org/wiki/OAuth">Oauth2</a> open standard for authorization.</p>

<p>The OAuth 2.0 Framework was published as <a href="http://tools.ietf.org/html/rfc6749">RFC 6749</a></p>

<p>OAuth2 is more simple to work with than OAuth1, and provides much better security.</p>

<h2 id="versioning">Versioning</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+(json|xml|yaml)</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+(json|xml|yaml)</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>

<span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+xml"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>

<span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+yaml"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'access_token'</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s">'1'</span><span class="p">)</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'access_token'</span><span class="p">,</span> <span class="n">ctype</span><span class="o">=</span><span class="s">'xml'</span><span class="p">)</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'access_token'</span><span class="p">,</span> <span class="n">ctype</span><span class="o">=</span><span class="s">'yaml'</span><span class="p">)</span>
</code></pre>

<p>Although we currently allow for versioned URL, as for example <code class="prettyprint">https://api.aplazame.com/v1/orders</code>, we consider it a better practice the use of the header <code class="prettyprint">Accept</code> in the request to specify the type and format of the API service response.</p>

<p>Thus we allow the following types of header</p>

<ul>
<li>Accept: application/vnd.aplazame.<strong>v1</strong>+<strong>json</strong></li>
<li>Accept: application/vnd.aplazame.<strong>v1</strong>+<strong>xml</strong></li>
<li>Accept: application/vnd.aplazame.<strong>v1</strong>+<strong>yaml</strong></li>
</ul>

<p>If you do not specify any version by header or by URL, the latest version of the API will be activated. Since a new version of API can deprecate certain fields, this type of practice is not recommended.</p>

<aside class="notice">
The latest API version is v1 and the latest CHECKOUT version is v2, this is the v1.2
</aside>

<h2 id="sandbox">Sandbox</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.sandbox.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.sandbox.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.sandbox.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'access_token'</span><span class="p">,</span> <span class="n">sandbox</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">()</span>
</code></pre>

<p>Aplazame has a sandbox mode for your unit tests. If you want to make a request in sandbox mode, it must be specified in the <code class="prettyprint">Accept</code> header just before the Api version.</p>

<ul>
<li>Accept (sandbox): application/vnd.aplazame.<strong>sandbox</strong>.v1+json</li>
<li>Accept (production): application/vnd.aplazame.v1+json</li>
</ul>

<h2 id="decimals">Decimals</h2>
<pre class="highlight shell"><code><span class="gp">$ </span><span class="k">if</span> <span class="o">((</span><span class="sb">`</span>bc <span class="o">&lt;&lt;&lt;</span> <span class="s2">"12.50!=1250"</span><span class="sb">`</span><span class="o">))</span>; <span class="k">then </span><span class="nb">echo</span> <span class="s2">"beep beeeeeeep!!!"</span>; <span class="k">fi</span>
</code></pre>
<pre class="highlight python"><code><span class="k">assert</span><span class="p">(</span><span class="mf">12.50</span> <span class="o">!=</span> <span class="mi">1250</span><span class="p">)</span>
</code></pre>

<p>All amounts related to taxes, discounts and prices will be formatted as an integer including two decimals. For example, if an item has a price of <em>12.50</em> should be formatted as an integer <em>1250</em>.</p>

<h2 id="pagination">Pagination</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?page=2</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "cursor": {
    "after": 3,
    "before": 1
  },
  "paging": {
    "count": 314,
    "next": "https://api.aplazame.com/orders?page=3",
    "previous": "https://api.aplazame.com/orders?page=1"
  },
  "results": []
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?page=2"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">(</span><span class="n">page</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="c"># Build a url query string from a dictionary</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'page'</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">})</span>
</code></pre>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cursor</td>
<td>object</td>
<td>Pagination cursor object.</td>
</tr>
<tr>
<td>paging</td>
<td>object</td>
<td>Pagination state.</td>
</tr>
<tr>
<td>results</td>
<td>collection</td>
<td>The queryset.</td>
</tr>
</tbody></table>

<h3 id="cursor">Cursor</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>after</td>
<td>integer</td>
<td>This is the cursor that points to the end of the page of data that has been returned.</td>
</tr>
<tr>
<td>before</td>
<td>integer</td>
<td>This is the cursor that points to the start of the page of data that has been returned.</td>
</tr>
</tbody></table>

<h3 id="paging">Paging</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>count</td>
<td>integer</td>
<td>The number of elements found.</td>
</tr>
<tr>
<td>next</td>
<td>url</td>
<td>The API endpoint that will return the next page of data.</td>
</tr>
<tr>
<td>previous</td>
<td>url</td>
<td>The API endpoint that will return the previous page of data.</td>
</tr>
</tbody></table>

<h2 id="filters">Filters</h2>

<p>Field lookups are how you specify the meat of an <em>SQL WHERE</em> clause, all lookups are listed below.</p>

<p>As a convenience when no lookup type is provided the lookup type is assumed to be <code class="prettyprint">exact</code>.</p>

<h3 id="string-filter">String filter</h3>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?my-param-term=value</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>

</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?my-param-term=value"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'my-param-term'</span><span class="p">:</span> <span class="s">'value'</span>
<span class="p">})</span>
</code></pre>

<blockquote>
<p>Exact</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?id-exact=e791f108472e80d9b48cd05677b1b7b1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?id-exact=e791f108472e80d9b48cd05677b1b7b1"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'id-exact'</span><span class="p">:</span> <span class="s">'e791f108472e80d9b48cd05677b1b7b1'</span>
<span class="p">})</span>
</code></pre>

<blockquote>
<p>Starts with search</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?id-startswith=e791f</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?id-startswith=e791f"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'id-startswith'</span><span class="p">:</span> <span class="s">'e791f'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Term</th>
<th>Usage</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>exact</td>
<td><code class="prettyprint">name-exact=AplaZame</code></td>
<td>An &ldquo;exact&rdquo; match</td>
</tr>
<tr>
<td>iexact</td>
<td><code class="prettyprint">name-iexact=aplazame</code></td>
<td>A case-insensitive match</td>
</tr>
<tr>
<td>regex</td>
<td><code class="prettyprint">name-regex=^[A-Z].*$</code></td>
<td>Case-sensitive containment test. Use html plus <code class="prettyprint">%2B</code> and not <code class="prettyprint">+</code>.</td>
</tr>
<tr>
<td>iregex</td>
<td><code class="prettyprint">name-iregex=^[a-z].*$</code></td>
<td>String iregex value</td>
</tr>
<tr>
<td>contains</td>
<td><code class="prettyprint">name-contains=plaZa</code></td>
<td>String contains value</td>
</tr>
<tr>
<td>icontains</td>
<td><code class="prettyprint">name-icontains=plaza</code></td>
<td>A case-insensitive match</td>
</tr>
<tr>
<td>startswith</td>
<td><code class="prettyprint">name-startswith=Apla</code></td>
<td>Starts-with search</td>
</tr>
<tr>
<td>istartswith</td>
<td><code class="prettyprint">name-istartswith=apla</code></td>
<td>A case-insensitive match</td>
</tr>
<tr>
<td>endswith</td>
<td><code class="prettyprint">name-endswith=Zame</code></td>
<td>Ends-with search</td>
</tr>
<tr>
<td>iendswith</td>
<td><code class="prettyprint">name-iendswith=zame</code></td>
<td>A case-insensitive match</td>
</tr>
<tr>
<td>in</td>
<td><code class="prettyprint">name-in=AplaZame,Aplazar</code></td>
<td>String in value</td>
</tr>
<tr>
<td>search</td>
<td><code class="prettyprint">name-search=Ap</code></td>
<td>String search value</td>
</tr>
</tbody></table>

<h3 id="date-filter">Date filter</h3>

<blockquote>
<p>Week day</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?confirmed-week_day=monday</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?confirmed-week_day=monday"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'confirmed-week_day'</span><span class="p">:</span> <span class="s">'monday'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Term</th>
<th>Usage</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>year</td>
<td><code class="prettyprint">created-year=2015</code></td>
<td>Date year</td>
</tr>
<tr>
<td>month</td>
<td><code class="prettyprint">created-month=10</code></td>
<td>Date month</td>
</tr>
<tr>
<td>week_day</td>
<td><code class="prettyprint">created-week_day=monday</code></td>
<td>Week day, the choices are <code class="prettyprint">monday</code>, <code class="prettyprint">tuesday</code>, <code class="prettyprint">wednesday</code>, <code class="prettyprint">thursday</code>, <code class="prettyprint">friday</code>, <code class="prettyprint">saturday</code>, <code class="prettyprint">sunday</code></td>
</tr>
<tr>
<td>day</td>
<td><code class="prettyprint">created-day=2</code></td>
<td>Date day</td>
</tr>
<tr>
<td>hour</td>
<td><code class="prettyprint">created-hour=14</code></td>
<td>Date hour</td>
</tr>
</tbody></table>

<h3 id="isnull-filter-yes-or-no">Isnull filter, <code class="prettyprint">yes</code> or <code class="prettyprint">no</code></h3>

<table><thead>
<tr>
<th>Term</th>
<th>Usage</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>isnull</td>
<td><code class="prettyprint">confirmed-isnull=yes</code></td>
<td>Filter by null fields, <code class="prettyprint">yes</code> OR <code class="prettyprint">no</code></td>
</tr>
</tbody></table>

<h3 id="range-filter">Range filter</h3>

<blockquote>
<p>Date greater/after than or equal to</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?confirmed-gte=2015-10-02T18:15:45.101838Z</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?confirmed-gte=2015-10-02T18:15:45.101838Z"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'confirmed-gte'</span><span class="p">:</span> <span class="s">'2015-10-02T18:15:45.101838Z'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Term</th>
<th>Usage</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>exact</td>
<td><code class="prettyprint">total_amount-exact=10000</code></td>
<td>Exact</td>
</tr>
<tr>
<td>gt</td>
<td><code class="prettyprint">total_amount-gt=8000</code></td>
<td>Greater than</td>
</tr>
<tr>
<td>gte</td>
<td><code class="prettyprint">total_amount-gte=10000</code></td>
<td>Greater than or equal to</td>
</tr>
<tr>
<td>lt</td>
<td><code class="prettyprint">total_amount-lt=12000</code></td>
<td>Less than</td>
</tr>
<tr>
<td>lte</td>
<td><code class="prettyprint">total_amount-lte=10000</code></td>
<td>Less than or equal to</td>
</tr>
</tbody></table>

<h3 id="choices-filter">Choices filter</h3>

<p>Multiple choices, <code class="prettyprint">a</code> OR <code class="prettyprint">b</code>, for <strong>example</strong> <code class="prettyprint">param=a&amp;param=b</code></p>

<h2 id="schema">Schema</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders/schema</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "name": "Order Queryset",
  "description": "Order list rest service",
  "renders": [
      "application/json",
      "application/javascript",
      "application/yaml",
      "application/xml",
      "text/html"
  ],
  "parses": [
      "application/json",
      "application/yaml",
      "application/xml"
  ]
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders/schema"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>

          <h1 id="orders">+ Orders</h1>

<p>Aplazame has a range of API services required for a complete integration as a method of payment in your ecommerce.</p>

<p>The requests must include the private key in the <a href="#authentication">header Authorization</a> as indicated in the protocol <a href="http://en.wikipedia.org/wiki/OAuth">Oauth2</a>.</p>

<p>Before making requests, make sure that the header Accept of your client API matches the <a href="#versioning">version</a> and the format in which you want to establish communication (json, xml, yaml).</p>

<h2 id="list">List</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "cursor": {
    "after": 3,
    "before": 1
  },
  "paging": {
    "count": 314,
    "next": "https://api.aplazame.com/orders?page=3",
    "previous": "https://api.aplazame.com/orders?page=1"
  },
  "results": [
  ]
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">()</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/orders</code></p>

<p>To retrieve order queryset.</p>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cursor</td>
<td>object</td>
<td>Pagination cursor object.</td>
</tr>
<tr>
<td>paging</td>
<td>object</td>
<td>Pagination state.</td>
</tr>
<tr>
<td>results</td>
<td>collection</td>
<td>Order queryset.</td>
</tr>
</tbody></table>

<h2 id="filter">○ Filter</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?my-param-term=value</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>

</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?my-param-term=value"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'my-param-term'</span><span class="p">:</span> <span class="s">'value'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/orders?my-param-term=value</code></p>

<p>To retrieve order queryset filtered.</p>

<p><strong>Filters lookups</strong> are listed <strong><a href="#filters">HERE</a></strong>, <code class="prettyprint">string</code>, <code class="prettyprint">choices</code>, <code class="prettyprint">range</code>, <code class="prettyprint">isnull</code> and <code class="prettyprint">date</code>.</p>

<h3 id="order-filter">Order filter</h3>

<blockquote>
<p>Total amount exact</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?total_amount=462000</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?total_amount=462000"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'total_amount'</span><span class="p">:</span> <span class="mi">462000</span>
<span class="p">})</span>
</code></pre>

<blockquote>
<p>Confirmed after</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?confirmed-gte=2015-12-22T15:09:30.537951Z</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?confirmed-gte=2015-12-22T15:09:30.537951Z"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'confirmed-gte'</span><span class="p">:</span> <span class="s">'2015-12-22T15:09:30.537951Z'</span>
<span class="p">})</span>
</code></pre>

<blockquote>
<p>Verified but not confirmed</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?verified-isnull=yes&amp;confirmed-isnull=no</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?verified-isnull=yes&amp;confirmed-isnull=no"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'verified-isnull'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
  <span class="s">'confirmed-isnull'</span><span class="p">:</span> <span class="bp">False</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>hash</td>
<td><code class="prettyprint">string</code></td>
<td>Aplazame order <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>mid</td>
<td>string</td>
<td><code class="prettyprint">string</code></td>
<td>Your order <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>total_amount</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">range</code></td>
<td>Order total amount.</td>
</tr>
<tr>
<td>discount</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">range</code></td>
<td>Order discount amount.</td>
</tr>
<tr>
<td>discount_rate</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">range</code></td>
<td>Order discount rate.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the order was created.</td>
</tr>
<tr>
<td>verified</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the order was verified.</td>
</tr>
<tr>
<td>confirmed</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the order was confirmed.</td>
</tr>
<tr>
<td>cancelled</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the order was cancelled.</td>
</tr>
</tbody></table>

<h3 id="downpayment-filter">Downpayment filter</h3>

<blockquote>
<p>Downpayment</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?instalment_plan-downpayment-state=failed</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?instalment_plan-downpayment-state=failed"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'instalment_plan-downpayment-state'</span><span class="p">:</span> <span class="p">[</span><span class="s">'failed'</span><span class="p">]</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>instalment_plan-downpayment-state</td>
<td>string</td>
<td><code class="prettyprint">choices</code></td>
<td>Downpayment state</td>
</tr>
<tr>
<td>instalment_plan-downpayment-amount</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">range</code></td>
<td>Downpayment amount</td>
</tr>
</tbody></table>

<h3 id="customer-filter">Customer filter</h3>

<blockquote>
<p>Customer phone number exact</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?customer-phone-number=612345678</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?customer-phone-number=612345678"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'customer-phone-number'</span><span class="p">:</span> <span class="s">'612345678'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>customer-id</td>
<td>hash</td>
<td><code class="prettyprint">string</code></td>
<td>Customer <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>customer-phone-number</td>
<td>string</td>
<td><code class="prettyprint">string</code></td>
<td>Customer mobile phone number.</td>
</tr>
<tr>
<td>customer-phone-country</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_3166-1">ISO 3166-1</a></td>
<td><code class="prettyprint">string</code></td>
<td>Customer phone country.</td>
</tr>
<tr>
<td>customer-created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the customer was created.</td>
</tr>
</tbody></table>

<h3 id="customer-document-id-filter">Customer document id filter</h3>

<blockquote>
<p>Document ID type, choices are nif OR nie</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?customer-document_id-type=nif&amp;customer-document_id-type=nie</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?customer-document_id-type=nif&amp;customer-document_id-type=nie"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'customer-document_id-type'</span><span class="p">:</span> <span class="p">[</span><span class="s">'nif'</span><span class="p">,</span> <span class="s">'nie'</span><span class="p">]</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>customer-document_id-number</td>
<td>string</td>
<td><code class="prettyprint">string</code></td>
<td>Customer document id number.</td>
</tr>
<tr>
<td>customer-document_id-country</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_3166-1">ISO 3166-1</a></td>
<td><code class="prettyprint">string</code></td>
<td>Customer document id country.</td>
</tr>
<tr>
<td>customer-document_id-type</td>
<td>string</td>
<td><code class="prettyprint">choices</code></td>
<td>Customer document id type, the choices are <code class="prettyprint">nif</code>, <code class="prettyprint">nie</code>, <code class="prettyprint">cif</code>, <code class="prettyprint">passport</code>, <code class="prettyprint">others</code>.</td>
</tr>
</tbody></table>

<h3 id="account-filter">Account filter</h3>

<blockquote>
<p>Gender exact</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?account-type=existing&amp;account-gender=0</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?account-type=existing&amp;account-gender=0"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'account-type'</span><span class="p">:</span> <span class="s">'existing'</span><span class="p">,</span>
  <span class="s">'account-gender'</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">})</span>
</code></pre>

<blockquote>
<p>Last login is not null</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?account-last_login-isnull=no</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?account-last_login-isnull=no"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'account-last_login-isnull'</span><span class="p">:</span> <span class="bp">False</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account-id</td>
<td>hash</td>
<td><code class="prettyprint">string</code></td>
<td>Customer account <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>account-type</td>
<td>string</td>
<td><code class="prettyprint">choices</code></td>
<td>Customer type, the choices are <code class="prettyprint">g</code>:guest, <code class="prettyprint">n</code>:new, <code class="prettyprint">e</code>:existing.</td>
</tr>
<tr>
<td>account-gender</td>
<td>integer</td>
<td><code class="prettyprint">choices</code></td>
<td>Customer gender, the choices are <code class="prettyprint">0</code>: not known, <code class="prettyprint">1</code>: male, <code class="prettyprint">2</code>:female, <code class="prettyprint">3</code>: not applicable.</td>
</tr>
<tr>
<td>account-last_login</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime of the account&rsquo;s last login</td>
</tr>
<tr>
<td>account-date_joined</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime of the account&rsquo;s date joined</td>
</tr>
</tbody></table>

<h2 id="search">○ Search</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?q=param1,param2,...</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?q=param1,param2,..."</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'q'</span><span class="p">:</span> <span class="s">'param1,param2,...'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/orders?q=param1,param2,...</code></p>

<p>To search order queryset.</p>

<p>Aplazame API allows a list of field names that will be searched whenever somebody submits a search query param <code class="prettyprint">q</code>.</p>

<p>Searches will use case-insensitive partial matches. The search parameter may contain multiple search terms, which should be whitespace and/or comma separated. If multiple search terms are used then objects will be returned in the list only if all the provided terms are matched.</p>

<h3 id="fields">Fields</h3>

<blockquote>
<p>Search by name, email, domain &hellip;</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?q=Alice,@gmail,.es</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?q=Alice,@gmail,.es"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'q'</span><span class="p">:</span> <span class="s">'Alice,@gmail,.es'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account-first_name</td>
<td>The customer first name.</td>
</tr>
<tr>
<td>account-last_name</td>
<td>The customer last name.</td>
</tr>
<tr>
<td>account-email</td>
<td>The customer email.</td>
</tr>
</tbody></table>

<h2 id="order">○ Order</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?ordering=param1,-param2,...</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?ordering=param1,-param2,..."</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'ordering'</span><span class="p">:</span> <span class="s">'param1,-param2,...'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/orders?ordering=param1,-param2,...</code></p>

<p>To retrieve order queryset ordered.</p>

<p>The ordering param is a tuple or list of strings. Each string is a field name with an optional <code class="prettyprint">-</code> prefix, which indicates descending order. Fields without a leading <code class="prettyprint">-</code> will be ordered ascending.</p>

<h3 id="by-order">by order</h3>

<blockquote>
<p>Descending total amount, Ascending created</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?ordering=-total_amount,created</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?ordering=-total_amount,created"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'ordering'</span><span class="p">:</span> <span class="s">'-total_amount,created'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>total_amount</td>
<td><a href="#decimals">decimal</a></td>
<td>Order total amount.</td>
</tr>
<tr>
<td>created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the order was created.</td>
</tr>
<tr>
<td>verified</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the order was verified.</td>
</tr>
<tr>
<td>confirmed</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the order was confirmed.</td>
</tr>
<tr>
<td>cancelled</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the order was cancelled.</td>
</tr>
</tbody></table>

<h3 id="by-account">by account</h3>

<blockquote>
<p>Ascending account last login, Descending account created</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders?ordering=account-last_login,-account-created</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders?ordering=account-last_login,-account-created"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">orders</span><span class="p">({</span>
  <span class="s">'ordering'</span><span class="p">:</span> <span class="s">'account-last_login,-account-created'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account-last_login</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime of the account&rsquo;s last login</td>
</tr>
<tr>
<td>account-date_joined</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime of the account&rsquo;s date joined</td>
</tr>
<tr>
<td>account-created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the customer account was created in Aplazame.</td>
</tr>
</tbody></table>

<h2 id="detail">Detail</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders/:orderId</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "id": ":orderId",
  "...": "..."
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders/:orderId"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_order</span><span class="p">(</span><span class="s">':orderId'</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/orders/:orderId</code></p>

<p>If you want to check the status of an order, this is the service you need.</p>

<h3 id="url-parameters">Url parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:orderId</td>
<td>string</td>
<td>String <code class="prettyprint">id</code> of the order to perform action with.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>object</td>
<td>Order id,</td>
</tr>
<tr>
<td>&hellip;</td>
<td>&hellip;</td>
<td>&hellip;</td>
</tr>
</tbody></table>

<h2 id="cancel">Cancel</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/orders/:orderId/cancel</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders/:orderId/cancel"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span> <span class="se">\</span>
    -X POST
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">cancel</span><span class="p">(</span><span class="s">':orderId'</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">POST https://api.aplazame.com/orders/:orderId/cancel</code></p>

<p>Service in charge of canceling an order. Note that once the order has been cancelled it may not be modified.</p>

<h3 id="url-parameters">Url parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:orderId</td>
<td>string</td>
<td>String <code class="prettyprint">id</code> of the order to perform action with.</td>
</tr>
</tbody></table>

<h2 id="refund">Refund</h2>

<blockquote>
<p>Check (GET) and refund (POST)</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/orders/:orderId/refund</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "remaining_amount": 70070
}
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/orders/:orderId/refund</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>

{
  "amount": 10050
}
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "remaining_amount": 60020
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders/:orderId/refund"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders/:orderId/refund"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span> <span class="se">\</span>
    -X POST <span class="se">\</span>
    -d <span class="s2">"amount=10050"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>

<span class="c"># Check</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">refund_check</span><span class="p">(</span><span class="s">':orderId'</span><span class="p">)</span>

<span class="c"># ...and refund</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">refund</span><span class="p">(</span><span class="s">':orderId'</span><span class="p">,</span> <span class="mi">10050</span><span class="p">)</span>
</code></pre>

<h3 id="check-remaining-amount">Check remaining amount</h3>

<p><code class="prettyprint">GET https://api.aplazame.com/orders/:orderId/refund</code></p>

<h3 id="refund">Refund</h3>

<p><code class="prettyprint">POST https://api.aplazame.com/orders/:orderId/refund</code></p>

<h3 id="url-parameters">Url parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:orderId</td>
<td>string</td>
<td>String <code class="prettyprint">id</code> of the order to perform action with.</td>
</tr>
</tbody></table>

<h3 id="payload">Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td><a href="#decimals">decimal</a></td>
<td>yes</td>
<td>The amount to refund.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>remaining_amount</td>
<td><a href="#decimals">decimal</a></td>
<td>The remaining order amount.</td>
</tr>
</tbody></table>

<h2 id="partial-update">Partial update</h2>
<pre class="highlight http"><code><span class="nf">PATCH</span> <span class="nn">/orders/:orderId</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>

{
  "order": {
    "articles": [
      {
        "id": "59825349042875546873",
        "name": "N°5 eau premiere spray",
        "description": "A decidedly lighter, fresher...",
        "url": "http://www.chanel.com...",
        "image_url": "http://www.chanel.com...",
        "quantity": 1,
        "price": 29000,
        "tax_rate": 2100
      }
    ],
    "discount": 300
  }
}
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders/:orderId"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span> <span class="se">\</span>
    -X PATCH <span class="se">\</span>
    --data-binary <span class="s1">'{
      "order": {
        "articles": [
          {
            "id": "59825349042875546873",
            "name": "N°5 eau premiere spray",
            "description": "A decidedly lighter, fresher...",
            "url": "http://www.chanel.com...",
            "image_url": "http://www.chanel.com...",
            "quantity": 1,
            "price": 29000,
            "tax_rate": 2100
          }
        ],
        "discount": 300
      }
    }'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"order"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"articles"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s">"id"</span><span class="p">:</span> <span class="s">"59825349042875546873"</span><span class="p">,</span>
        <span class="s">"name"</span><span class="p">:</span> <span class="s">"N°5 eau premiere spray"</span><span class="p">,</span>
        <span class="s">"description"</span><span class="p">:</span> <span class="s">"A decidedly lighter, fresher..."</span><span class="p">,</span>
        <span class="s">"url"</span><span class="p">:</span> <span class="s">"http://www.chanel.com..."</span><span class="p">,</span>
        <span class="s">"image_url"</span><span class="p">:</span> <span class="s">"http://www.chanel.com..."</span><span class="p">,</span>
        <span class="s">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">"price"</span><span class="p">:</span> <span class="mi">29000</span><span class="p">,</span>
        <span class="s">"tax_rate"</span><span class="p">:</span> <span class="mi">2100</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s">"discount"</span><span class="p">:</span> <span class="mi">300</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s">':orderId'</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">partial</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">PATCH https://api.aplazame.com/orders/:orderId</code></p>

<p>This service is used to partially modify the order, you choose if you want to change the shipping data, the billing or the cart.</p>

<h3 id="url-parameters">Url parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:orderId</td>
<td>string</td>
<td>String <code class="prettyprint">id</code> of the order to perform action with.</td>
</tr>
</tbody></table>

<h3 id="payload">Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><a href="#order">order</a></td>
<td>object</td>
<td><strong>partial</strong></td>
<td>Order to update.</td>
</tr>
</tbody></table>

<h2 id="update">Update</h2>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/orders/:orderId</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>

{
  "order": {
    "shipping": {
      "first_name": "Django",
      "last_name": "Reinhard",
      "phone": "616123456",
      "alt_phone": "+34917909930",
      "street": "Plaza del Angel nº10",
      "address_addition": "Cerca de la plaza Santa Ana",
      "city": "Madrid",
      "state": "Madrid",
      "country": "ES",
      "postcode": "28012",
      "price": 500,
      "tax_rate": 2100,
      "name": "Planet Express",
      "discount": 100
    },
    "articles": [
      {
        "id": "59825349042875546873",
        "name": "N°5 eau premiere spray",
        "description": "A decidedly lighter, fresher...",
        "url": "http://www.chanel.com...",
        "image_url": "http://www.chanel.com...",
        "quantity": 1,
        "price": 29000,
        "tax_rate": 2100
      }
    ],
    "discount": 300,
    "currency": "EUR",
    "total_amount": 31080
  }
}
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders/:orderId"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span> <span class="se">\</span>
    -X PUT <span class="se">\</span>
    --data-binary <span class="s1">'{
      "order": {
        "shipping": {
          "first_name": "Django",
          "last_name": "Reinhard",
          "phone": "616123456",
          "alt_phone": "+34917909930",
          "street": "Plaza del Angel nº10",
          "address_addition": "Cerca de la plaza Santa Ana",
          "city": "Madrid",
          "state": "Madrid",
          "country": "ES",
          "postcode": "28012",
          "price": 500,
          "tax_rate": 2100,
          "name": "Planet Express",
          "discount": 100
        },
        "articles": [
          {
            "id": "59825349042875546873",
            "name": "N°5 eau premiere spray",
            "description": "A decidedly lighter, fresher...",
            "url": "http://www.chanel.com...",
            "image_url": "http://www.chanel.com...",
            "quantity": 1,
            "price": 29000,
            "tax_rate": 2100
          }
        ],
        "discount": 300,
        "currency": "EUR",
        "total_amount": 31080
      }
    }'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"order"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"shipping"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">"first_name"</span><span class="p">:</span> <span class="s">"Django"</span><span class="p">,</span>
      <span class="s">"last_name"</span><span class="p">:</span> <span class="s">"Reinhard"</span><span class="p">,</span>
      <span class="s">"phone"</span><span class="p">:</span> <span class="s">"616123456"</span><span class="p">,</span>
      <span class="s">"alt_phone"</span><span class="p">:</span> <span class="s">"+34917909930"</span><span class="p">,</span>
      <span class="s">"street"</span><span class="p">:</span> <span class="s">"Plaza del Angel nº10"</span><span class="p">,</span>
      <span class="s">"address_addition"</span><span class="p">:</span> <span class="s">"Cerca de la plaza Santa Ana"</span><span class="p">,</span>
      <span class="s">"city"</span><span class="p">:</span> <span class="s">"Madrid"</span><span class="p">,</span>
      <span class="s">"state"</span><span class="p">:</span> <span class="s">"Madrid"</span><span class="p">,</span>
      <span class="s">"country"</span><span class="p">:</span> <span class="s">"ES"</span><span class="p">,</span>
      <span class="s">"postcode"</span><span class="p">:</span> <span class="s">"28012"</span><span class="p">,</span>
      <span class="s">"price"</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
      <span class="s">"tax_rate"</span><span class="p">:</span> <span class="mi">2100</span><span class="p">,</span>
      <span class="s">"name"</span><span class="p">:</span> <span class="s">"Planet Express"</span><span class="p">,</span>
      <span class="s">"discount"</span><span class="p">:</span> <span class="mi">100</span>
    <span class="p">},</span>
    <span class="s">"articles"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s">"id"</span><span class="p">:</span> <span class="s">"59825349042875546873"</span><span class="p">,</span>
        <span class="s">"name"</span><span class="p">:</span> <span class="s">"N°5 eau premiere spray"</span><span class="p">,</span>
        <span class="s">"description"</span><span class="p">:</span> <span class="s">"A decidedly lighter, fresher..."</span><span class="p">,</span>
        <span class="s">"url"</span><span class="p">:</span> <span class="s">"http://www.chanel.com..."</span><span class="p">,</span>
        <span class="s">"image_url"</span><span class="p">:</span> <span class="s">"http://www.chanel.com..."</span><span class="p">,</span>
        <span class="s">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">"price"</span><span class="p">:</span> <span class="mi">29000</span><span class="p">,</span>
        <span class="s">"tax_rate"</span><span class="p">:</span> <span class="mi">2100</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s">"discount"</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
    <span class="s">"currency"</span><span class="p">:</span> <span class="s">"EUR"</span><span class="p">,</span>
    <span class="s">"total_amount"</span><span class="p">:</span> <span class="mi">31080</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s">':orderId'</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">PUT https://api.aplazame.com/orders/:orderId</code></p>

<p>If you want to update an order, this is the service you need.</p>

<h3 id="url-parameters">Url parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:orderId</td>
<td>string</td>
<td>String <code class="prettyprint">id</code> of the order to perform action with.</td>
</tr>
</tbody></table>

<h3 id="payload">Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><a href="#order">order</a></td>
<td>object</td>
<td>yes</td>
<td>Order to update.</td>
</tr>
</tbody></table>

<h2 id="history">History</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/orders/:orderId/history</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>

[{
  "id": "18857527248912279381",
  "amount": 12080,
  "due": "",
  "status": "cancelled",
  "type": "paypal",
  "order_date": "2014-03-21T13:56:45+0000",
  "currency": "EUR",
  "billing": null,
  "shipping": {
    "first_name": "Django",
    "last_name": "Reinhard",
    "phone": "616123456",
    "alt_phone": "+34917909930",
    "street": "Plaza del Angel nº10",
    "address_addition": "Cerca de la plaza Santa Ana",
    "city": "Madrid",
    "state": "Madrid",
    "country": "ES",
    "postcode": "28012",
    "price": 500,
    "tax_rate": 2100,
    "name": "Planet Express",
    "discount": 100
  }
}]
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/orders/:orderId/history"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span> <span class="se">\</span>
    -X POST <span class="se">\</span>
    --data-binary <span class="s1">'[
      {
        "id": "18857527248912279381",
        "amount": 12080,
        "due": "",
        "status": "cancelled",
        "type": "paypal",
        "order_date": "2014-03-21T13:56:45+0000",
        "currency": "EUR",
        "shipping": {
          "first_name": "Django",
          "last_name": "Reinhard",
          "phone": "616123456",
          "alt_phone": "+34917909930",
          "street": "Plaza del Angel nº10",
          "address_addition": "Cerca de la plaza Santa Ana",
          "city": "Madrid",
          "state": "Madrid",
          "country": "ES",
          "postcode": "28012",
          "price": 500,
          "tax_rate": 2100,
          "name": "Planet Express",
          "discount": 100
        }
      }
    ]'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">"18857527248912279381"</span><span class="p">,</span>
    <span class="s">"amount"</span><span class="p">:</span> <span class="mi">12080</span><span class="p">,</span>
    <span class="s">"due"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
    <span class="s">"status"</span><span class="p">:</span> <span class="s">"cancelled"</span><span class="p">,</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"paypal"</span><span class="p">,</span>
    <span class="s">"order_date"</span><span class="p">:</span> <span class="s">"2014-03-21T13:56:45+0000"</span><span class="p">,</span>
    <span class="s">"currency"</span><span class="p">:</span> <span class="s">"EUR"</span><span class="p">,</span>
    <span class="s">"billing"</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s">"shipping"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">"first_name"</span><span class="p">:</span> <span class="s">"Django"</span><span class="p">,</span>
      <span class="s">"last_name"</span><span class="p">:</span> <span class="s">"Reinhard"</span><span class="p">,</span>
      <span class="s">"phone"</span><span class="p">:</span> <span class="s">"616123456"</span><span class="p">,</span>
      <span class="s">"alt_phone"</span><span class="p">:</span> <span class="s">"+34917909930"</span><span class="p">,</span>
      <span class="s">"street"</span><span class="p">:</span> <span class="s">"Plaza del Angel nº10"</span><span class="p">,</span>
      <span class="s">"address_addition"</span><span class="p">:</span> <span class="s">"Cerca de la plaza Santa Ana"</span><span class="p">,</span>
      <span class="s">"city"</span><span class="p">:</span> <span class="s">"Madrid"</span><span class="p">,</span>
      <span class="s">"state"</span><span class="p">:</span> <span class="s">"Madrid"</span><span class="p">,</span>
      <span class="s">"country"</span><span class="p">:</span> <span class="s">"ES"</span><span class="p">,</span>
      <span class="s">"postcode"</span><span class="p">:</span> <span class="s">"28012"</span><span class="p">,</span>
      <span class="s">"price"</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
      <span class="s">"tax_rate"</span><span class="p">:</span> <span class="mi">2100</span><span class="p">,</span>
      <span class="s">"name"</span><span class="p">:</span> <span class="s">"Planet Express"</span><span class="p">,</span>
      <span class="s">"discount"</span><span class="p">:</span> <span class="mi">100</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">history</span><span class="p">(</span><span class="s">':orderId'</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">POST https://api.aplazame.com/orders/:orderId/history</code></p>

<p>When a checkout process begins, a request is sent to our server with the information of the history of the customer. It is recommended to make an asynchronous request not to delay the loading of the template.</p>

<p>If you do not have asynchronous technology, you can develop your own REST service and your server with our own client with your private key.</p>

<h3 id="url-parameters">Url parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:orderId</td>
<td>string</td>
<td>String <code class="prettyprint">id</code> of the order to perform action with.</td>
</tr>
</tbody></table>

<h3 id="payload">Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>yes</td>
<td>String <code class="prettyprint">id</code> of the order to perform action with.</td>
</tr>
<tr>
<td>amount</td>
<td><a href="#decimals">decimal</a></td>
<td>yes</td>
<td>Order amount.</td>
</tr>
<tr>
<td>due</td>
<td> <a href="#decimals">decimal</a></td>
<td>no</td>
<td>The total amount due of the order.</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>yes</td>
<td>Order status, the choices are <code class="prettyprint">pending</code>, <code class="prettyprint">cancelled</code>, <code class="prettyprint">processing</code> and <code class="prettyprint">complete</code>.</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>yes</td>
<td>Order type.</td>
</tr>
<tr>
<td>order_date</td>
<td>string</td>
<td>yes</td>
<td>The date of the order.</td>
</tr>
<tr>
<td>currency</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_4217">ISO 4217</a></td>
<td>yes</td>
<td>Currency code of the order.</td>
</tr>
<tr>
<td><a href="#billing-address">billing</a></td>
<td>object</td>
<td>no</td>
<td>Order billing.</td>
</tr>
<tr>
<td><a href="#shipping-info">shipping</a></td>
<td>object</td>
<td>no</td>
<td>Order shipping.</td>
</tr>
</tbody></table>

          <h1 id="merchants">+ Merchants</h1>

<h2 id="list">○ List</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/merchants?page=2</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "cursor": {
    "after": 3,
    "before": 1
  },
  "paging": {
    "count": 314,
    "next": "https://api.aplazame.com/merchants?page=3",
    "previous": "https://api.aplazame.com/merchants?page=1"
  },
  "results": [
  ]
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">merchants</span><span class="p">()</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/merchants</code></p>

<p>To retrieve merchant queryset.</p>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cursor</td>
<td>object</td>
<td>Pagination cursor object.</td>
</tr>
<tr>
<td>paging</td>
<td>object</td>
<td>Pagination state.</td>
</tr>
<tr>
<td>results</td>
<td>collection</td>
<td>Merchant queryset.</td>
</tr>
</tbody></table>

<h2 id="create">○ Create</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/merchants</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>

{
  "name": "Aplazame e-commerce",
  "url": "http://www.aplazame.com",
  "account": {
    "business_activity": "01",
    "iban": "ES9121000418450200051332",
    "monthly_earnings": "20000",
    "average_amount": "200"
  }
}
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">CREATED</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    --data-binary <span class="s1">'{
      "name": "Aplazame e-commerce",
      "url": "http://www.aplazame.com",
      "account": {
        "business_activity": "01",
        "iban": "ES9121000418450200051332",
        "monthly_earnings": "20000",
        "average_amount": "200"
      }
    }'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">post_merchant</span><span class="p">({</span>
  <span class="s">'name'</span><span class="p">:</span> <span class="s">'Aplazame e-commerce'</span><span class="p">,</span>
  <span class="s">'url'</span><span class="p">:</span> <span class="s">'http://www.aplazame.com'</span><span class="p">,</span>
  <span class="s">'account'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'business_activity'</span><span class="p">:</span> <span class="s">'01'</span><span class="p">,</span>
    <span class="s">'iban'</span><span class="p">:</span> <span class="s">'ES9121000418450200051332'</span><span class="p">,</span>
    <span class="s">'monthly_earnings'</span><span class="p">:</span> <span class="s">'20000'</span><span class="p">,</span>
    <span class="s">'average_amount'</span><span class="p">:</span> <span class="s">'200'</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">POST https://api.aplazame.com/merchants</code></p>

<p>To create a merchant.</p>

<h3 id="payload">Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>yes</td>
<td>Merchant name.</td>
</tr>
<tr>
<td>url</td>
<td>url</td>
<td>yes</td>
<td>Merchant url.</td>
</tr>
<tr>
<td>widget_enabled</td>
<td>bool</td>
<td>no </td>
<td>Determines if the widget is enabled.</td>
</tr>
<tr>
<td>min_amount_per_transaction</td>
<td><a href="#decimals">decimals</a></td>
<td>no</td>
<td>Minimun amount per transaction.</td>
</tr>
<tr>
<td>connect_discounts</td>
<td>bool </td>
<td>no</td>
<td>Determines if discounts are enabled.</td>
</tr>
</tbody></table>

<h3 id="account-payload">Account Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th> Description</th>
</tr>
</thead><tbody>
<tr>
<td>business_activity</td>
<td>code</td>
<td>yes</td>
<td> Merchant business activity, select your choice <a href="https://aplazame.com/static/payments/business-activity.html">here</a>.</td>
</tr>
<tr>
<td>iban</td>
<td><a href="https://en.wikipedia.org/wiki/International_Bank_Account_Number">ISO 13616</a></td>
<td>yes</td>
<td> International Bank Account Number.</td>
</tr>
<tr>
<td>monthly_earnings</td>
<td>integer</td>
<td>yes</td>
<td> Refers to all remuneration received before deduction of the merchant.</td>
</tr>
<tr>
<td>average_amount</td>
<td>integer</td>
<td>yes</td>
<td>The average amount of merchant.</td>
</tr>
<tr>
<td>payment_frequency</td>
<td>choices</td>
<td>no</td>
<td>Determines the payment frequency, choices are <code class="prettyprint">daily</code> or <code class="prettyprint">weekly</code>.</td>
</tr>
</tbody></table>

<h2 id="detail">○ Detail</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/merchants/:merchantId</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "id": ":merchantId",
  "...": "..."
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_merchant</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/merchants/:merchantId</code></p>

<p>If you want to check the status of a merchant, this is the service you need.</p>

<h3 id="me">/me</h3>

<p><code class="prettyprint">GET https://api.aplazame.com/me</code></p>

<p>To make all requests for a current merchant, you can replace <code class="prettyprint">/merchants/:merchantId</code> by <code class="prettyprint">/me</code>.</p>

<h3 id="parameters">Parameters</h3>

<p><code class="prettyprint">/merchants/:merchantId</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:merchantId</td>
<td>string</td>
<td>String <code class="prettyprint">id</code> of the merchant to perform action with.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>hash</td>
<td>Merchant id,</td>
</tr>
<tr>
<td>&hellip;</td>
<td>&hellip;</td>
<td>&hellip;</td>
</tr>
</tbody></table>

<h2 id="edit">○ Edit</h2>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/merchants/:merchantId</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>

{
  "name": "Aplazame e-commerce",
  "url": "http://www.aplazame.com",
  "account": {
    "business_activity": "01",
    "iban": "ES9121000418450200051332",
    "monthly_earnings": "20000",
    "average_amount": "200"
  }
}
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "id": ":merchantId",
  "...": "..."
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    -X PUT <span class="se">\</span>
    --data-binary <span class="s1">'{
      "name": "Aplazame e-commerce",
      "url": "http://www.aplazame.com",
      "account": {
        "business_activity": "01",
        "iban": "ES9121000418450200051332",
        "monthly_earnings": "20000",
        "average_amount": "200"
      }
    }'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">put_merchant</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="p">{</span>
  <span class="s">'name'</span><span class="p">:</span> <span class="s">'Aplazame e-commerce'</span><span class="p">,</span>
  <span class="s">'url'</span><span class="p">:</span> <span class="s">'http://www.aplazame.com'</span><span class="p">,</span>
  <span class="s">'account'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'business_activity'</span><span class="p">:</span> <span class="s">'01'</span><span class="p">,</span>
    <span class="s">'iban'</span><span class="p">:</span> <span class="s">'ES9121000418450200051332'</span><span class="p">,</span>
    <span class="s">'monthly_earnings'</span><span class="p">:</span> <span class="s">'20000'</span><span class="p">,</span>
    <span class="s">'average_amount'</span><span class="p">:</span> <span class="s">'200'</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">PUT https://api.aplazame.com/merchants/:merchantId</code></p>

<p>If you want to edit a merchant, this is the service you need.</p>

<h3 id="me">/me</h3>

<p><code class="prettyprint">PUT https://api.aplazame.com/me</code></p>

<p>To make all requests for a current merchant, you can replace <code class="prettyprint">/merchants/:merchantId</code> by <code class="prettyprint">/me</code>.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:merchantId</td>
<td>string</td>
<td>String <code class="prettyprint">id</code> of the merchant to perform action with.</td>
</tr>
</tbody></table>

<h3 id="payload">Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>yes</td>
<td>Merchant name.</td>
</tr>
<tr>
<td>url</td>
<td>url</td>
<td>yes</td>
<td>Merchant url.</td>
</tr>
<tr>
<td>widget_enabled</td>
<td>bool</td>
<td>no </td>
<td>Determines if the widget is enabled.</td>
</tr>
<tr>
<td>min_amount_per_transaction</td>
<td><a href="#decimals">decimals</a></td>
<td>no</td>
<td>Minimun amount per transaction.</td>
</tr>
<tr>
<td>connect_discounts</td>
<td>bool </td>
<td>no</td>
<td>Determines if discounts are enabled.</td>
</tr>
</tbody></table>

<h3 id="account-payload">Account Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th> Description</th>
</tr>
</thead><tbody>
<tr>
<td>business_activity</td>
<td>code</td>
<td>yes</td>
<td> Merchant business activity, select your choice <a href="https://aplazame.com/static/payments/business-activity.html">here</a>.</td>
</tr>
<tr>
<td>iban</td>
<td><a href="https://en.wikipedia.org/wiki/International_Bank_Account_Number">ISO 13616</a></td>
<td>yes</td>
<td> International Bank Account Number.</td>
</tr>
<tr>
<td>monthly_earnings</td>
<td>integer</td>
<td>yes</td>
<td> Refers to all remuneration received before deduction of the merchant.</td>
</tr>
<tr>
<td>average_amount</td>
<td>integer</td>
<td>yes</td>
<td>The average amount of merchant.</td>
</tr>
<tr>
<td>payment_frequency</td>
<td>choices</td>
<td>no</td>
<td>Determines the payment frequency, choices are <code class="prettyprint">daily</code> or <code class="prettyprint">weekly</code>.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>hash</td>
<td>Merchant id,</td>
</tr>
<tr>
<td>&hellip;</td>
<td>&hellip;</td>
<td>&hellip;</td>
</tr>
</tbody></table>

<h3 id="partial-edit">Partial Edit</h3>
<pre class="highlight http"><code><span class="nf">PATCH</span> <span class="nn">/merchants/:merchantId</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>

{
  "name": "edited"
}
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "id": ":merchantId",
  "...": "..."
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    -X PATCH <span class="se">\</span>
    --data-binary <span class="s1">'{
      "name": "Aplazame e-commerce"
    }'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">patch_merchant</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="p">{</span>
  <span class="s">'name'</span><span class="p">:</span> <span class="s">'edited'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">PATCH https://api.aplazame.com/merchants/:merchantId</code></p>

<p>If you want to partial editing, this is the service you need.</p>

<h3 id="me">/me</h3>

<p><code class="prettyprint">PATCH https://api.aplazame.com/me</code></p>

<h2 id="enable">○ Enable</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/merchants/:merchantId/enable</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">NO CONTENT</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    -X POST
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">enable_merchant</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">)</span>
</code></pre>

<aside class="notice">
Merchants are enabled by default.
</aside>

<p><code class="prettyprint">POST https://api.aplazame.com/merchants/:merchantId/enable</code></p>

<p>If you want to enable a merchant, this is the service you need.</p>

<h3 id="me">/me</h3>

<p><code class="prettyprint">POST https://api.aplazame.com/me/enable</code></p>

<h2 id="disable">○ Disable</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/merchants/:merchantId/disable</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">NO CONTENT</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    -X POST
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">disable_merchant</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">POST https://api.aplazame.com/merchants/:merchantId/disable</code></p>

<p>If you want to disable a merchant, this is the service you need.</p>

<h3 id="me">/me</h3>

<p><code class="prettyprint">POST https://api.aplazame.com/me/disable</code></p>

<h2 id="hostnames">+ Hostnames</h2>

<h2 id="list">○ List</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/merchants/:merchantId/hostnames?page=2</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "cursor": {
    "after": 3,
    "before": 1
  },
  "paging": {
    "count": 314,
    "next": "https://api.aplazame.com/merchants/:merchantId/hostnames?page=3",
    "previous": "https://api.aplazame.com/merchants/:merchantId/hostnames?page=1"
  },
  "results": [
  ]
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/hostnames"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="c"># Merchant request</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">merchant_request</span><span class="p">(</span><span class="s">'hostnames'</span><span class="p">,</span> <span class="s">':merchantId'</span><span class="p">)</span>
<span class="c"># Current merchant</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">hostnames</span><span class="p">()</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/merchants/:merchantId/hostnames</code></p>

<p>To retrieve hostnames queryset.</p>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cursor</td>
<td>object</td>
<td>Pagination cursor object.</td>
</tr>
<tr>
<td>paging</td>
<td>object</td>
<td>Pagination state.</td>
</tr>
<tr>
<td>results</td>
<td>collection</td>
<td>Hostnames queryset.</td>
</tr>
</tbody></table>

<h2 id="create">○ Create</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/merchants/:merchantId/hostnames</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>

{
  "url": "http://www.aplazame.com"
}
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">CREATED</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/hostnames"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    --data-binary <span class="s1">'{
      "url": "http://www.aplazame.com"
    }'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">post_hostname</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="p">{</span>
  <span class="s">'url'</span><span class="p">:</span> <span class="s">'http://www.aplazame.com'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">POST https://api.aplazame.com/merchants/:merchantId/hostnames</code></p>

<p>To create a hostname.</p>

<h3 id="payload">Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>url</td>
<td>url</td>
<td>yes</td>
<td>Merchant url.</td>
</tr>
</tbody></table>

<h2 id="detail">○ Detail</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/merchants/:merchantId/hostnames/:hostnameId</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "id": ":hostnameId",
  "host": "www.aplazame.com",
  "name": "www.aplazame.com"
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/hostnames/:hostnameId"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_hostname</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="s">':hostnameId'</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/merchants/:merchantId/hostnames/:hostnameId</code></p>

<p>If you want to check the status of a hostname, this is the service you need.</p>

<h3 id="me">/me</h3>

<p><code class="prettyprint">GET https://api.aplazame.com/me/hostnames/:hostnameId</code></p>

<p>To make all requests for a current merchant, you can replace <code class="prettyprint">/merchants/:merchantId</code> by <code class="prettyprint">/me</code>.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:merchantId</td>
<td>hash</td>
<td>String <code class="prettyprint">id</code> of the merchant to perform action with.</td>
</tr>
<tr>
<td>:hostnameId</td>
<td>hash</td>
<td>String <code class="prettyprint">id</code> of the hostname to perform action with.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>hash</td>
<td>Hostname id,</td>
</tr>
<tr>
<td>host</td>
<td>host</td>
<td>The host.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name.</td>
</tr>
</tbody></table>

<h2 id="delete">○ Delete</h2>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/merchants/:merchantId/hostnames/:hostnameId</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">NO CONTENT</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/hostnames/:hostnameId "</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    -X DELETE
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">delete_hostname</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="s">':hostnameId'</span><span class="p">)</span>
</code></pre>

<p>If you want to delete any hostname, this is the service you need.</p>

<h2 id="operations">+ Operations</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/merchants/:merchantId/operations?page=2</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "cursor": {
    "after": 3,
    "before": 1
  },
  "paging": {
    "count": 314,
    "next": "https://api.aplazame.com/merchants/:merchantId/operations?page=3",
    "previous": "https://api.aplazame.com/merchants/:merchantId/operations?page=1"
  },
  "results": [
  ]
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/operations"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="c"># Merchant request</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">merchant_request</span><span class="p">(</span><span class="s">'operations'</span><span class="p">,</span> <span class="s">':merchantId'</span><span class="p">)</span>
<span class="c"># Current merchant</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">operations</span><span class="p">()</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/merchants/:merchantId/operations</code></p>

<p>If you want to check the operations of a merchant, this is the service you need.
Orders, refunds, canceled orders and credit requests denied.</p>

<h3 id="me">/me</h3>

<p><code class="prettyprint">GET https://api.aplazame.com/me/operations</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mark_as_read</td>
<td>bool</td>
<td><code class="prettyprint">mark_as_read=yes</code> if you want to mark operations as read.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cursor</td>
<td>object</td>
<td>Pagination cursor object.</td>
</tr>
<tr>
<td>paging</td>
<td>object</td>
<td>Pagination state.</td>
</tr>
<tr>
<td>results</td>
<td>collection</td>
<td>Operations queryset.</td>
</tr>
</tbody></table>

<h2 id="filter">○ Filter</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/operations?param=value</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/operations?param=value"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">operations</span><span class="p">({</span>
  <span class="s">'param'</span><span class="p">:</span> <span class="s">'value'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/me/operations?param=value</code></p>

<p>To retrieve operations queryset filtered.</p>

<p><strong>Filters lookups</strong> are listed <strong><a href="#filters">HERE</a></strong>, <code class="prettyprint">string</code>, <code class="prettyprint">choices</code>, <code class="prettyprint">range</code>, <code class="prettyprint">isnull</code> and <code class="prettyprint">date</code>.</p>

<h3 id="operation-filter">Operation filter</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/operations?amount-gte=462000"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">operations</span><span class="p">({</span>
  <span class="s">'amount-gte'</span><span class="p">:</span> <span class="mi">462000</span>
<span class="p">})</span>
</code></pre>

<blockquote>
<p>Created after</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/operations?created-gt=2015-12-22T15:09:30.537951Z</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/operations?created-gt=2015-12-22T15:09:30.537951Z"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">operations</span><span class="p">({</span>
  <span class="s">'created-gt'</span><span class="p">:</span> <span class="s">'2015-12-22T15:09:30.537951Z'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Lookups</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>hash</td>
<td><code class="prettyprint">string</code></td>
<td>Aplazame operation <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td><code class="prettyprint">choices</code></td>
<td>Operation type, the choices are <code class="prettyprint">credit</code>, <code class="prettyprint">cancel</code>, <code class="prettyprint">refund</code>, <code class="prettyprint">credit-denied</code></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">range</code></td>
<td>Operation amount.</td>
</tr>
<tr>
<td>created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the operation was created.</td>
</tr>
<tr>
<td>read</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the operation was read.</td>
</tr>
</tbody></table>

<h3 id="order-filter">Order filter</h3>

<blockquote>
<p>Total amount exact</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/operations?order-total_amount=462000</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/operations?order-total_amount=462000"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">operations</span><span class="p">({</span>
  <span class="s">'order-total_amount'</span><span class="p">:</span> <span class="mi">462000</span>
<span class="p">})</span>
</code></pre>

<blockquote>
<p>Confirmed after</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/operations?order-confirmed-gte=2015-12-22T15:09:30.537951Z</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/operations?order-confirmed-gte=2015-12-22T15:09:30.537951Z"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">operations</span><span class="p">({</span>
  <span class="s">'order-confirmed-gte'</span><span class="p">:</span> <span class="s">'2015-12-22T15:09:30.537951Z'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order-id</td>
<td>hash</td>
<td><code class="prettyprint">string</code></td>
<td>Aplazame order <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>order-mid</td>
<td>string</td>
<td><code class="prettyprint">string</code></td>
<td>Your order <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>order-total_amount</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">range</code></td>
<td>Order total amount.</td>
</tr>
<tr>
<td>order-discount</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">range</code></td>
<td>Order discount amount.</td>
</tr>
<tr>
<td>order-discount_rate</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">range</code></td>
<td>Order discount rate.</td>
</tr>
<tr>
<td>order-</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>order-created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the order was created.</td>
</tr>
<tr>
<td>order-confirmed</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the order was confirmed.</td>
</tr>
<tr>
<td>order-cancelled</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the order was cancelled.</td>
</tr>
</tbody></table>

<h3 id="downpayment-filter">Downpayment filter</h3>

<blockquote>
<p>Downpayment</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/operations?instalment_plan-downpayment-state=failed</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/operations?instalment_plan-downpayment-state=failed"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">operations</span><span class="p">({</span>
  <span class="s">'instalment_plan-downpayment-state'</span><span class="p">:</span> <span class="p">[</span><span class="s">'failed'</span><span class="p">]</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>instalment_plan-downpayment-state</td>
<td>string</td>
<td><code class="prettyprint">choices</code></td>
<td>Downpayment state</td>
</tr>
<tr>
<td>instalment_plan-downpayment-amount</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">range</code></td>
<td>Downpayment amount</td>
</tr>
</tbody></table>

<h3 id="customer-filter">Customer filter</h3>

<blockquote>
<p>Customer phone number exact</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/operations?customer-phone-number=612345678</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/operations?customer-phone-number=612345678"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">operations</span><span class="p">({</span>
  <span class="s">'customer-phone-number'</span><span class="p">:</span> <span class="s">'612345678'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>customer-id</td>
<td>hash</td>
<td><code class="prettyprint">string</code></td>
<td>Customer <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>customer-phone-number</td>
<td>string</td>
<td><code class="prettyprint">string</code></td>
<td>Customer mobile phone number.</td>
</tr>
<tr>
<td>customer-phone-country</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_3166-1">ISO 3166-1</a></td>
<td><code class="prettyprint">string</code></td>
<td>Customer phone country.</td>
</tr>
<tr>
<td>customer-created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the customer was created.</td>
</tr>
</tbody></table>

<h3 id="customer-document-id-filter">Customer document id filter</h3>

<blockquote>
<p>Document ID type, choices are nif OR nie</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/operations?customer-document_id-type=nif&amp;customer-document_id-type=nie</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/operations?customer-document_id-type=nif&amp;customer-document_id-type=nie"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">operations</span><span class="p">({</span>
  <span class="s">'customer-document_id-type'</span><span class="p">:</span> <span class="p">[</span><span class="s">'nif'</span><span class="p">,</span> <span class="s">'nie'</span><span class="p">]</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>customer-document_id-number</td>
<td>string</td>
<td><code class="prettyprint">string</code></td>
<td>Customer document id number.</td>
</tr>
<tr>
<td>customer-document_id-country</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_3166-1">ISO 3166-1</a></td>
<td><code class="prettyprint">string</code></td>
<td>Customer document id country.</td>
</tr>
<tr>
<td>customer-document_id-type</td>
<td>string</td>
<td><code class="prettyprint">choices</code></td>
<td>Customer document id type, the choices are <code class="prettyprint">nif</code>, <code class="prettyprint">nie</code>, <code class="prettyprint">cif</code>, <code class="prettyprint">passport</code>, <code class="prettyprint">others</code>.</td>
</tr>
</tbody></table>

<h3 id="account-filter">Account filter</h3>

<blockquote>
<p>Gender exact</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/operations?order-account-type=existing&amp;order-account-gender=0</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/operations?order-account-type=existing&amp;order-account-gender=0"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">operations</span><span class="p">({</span>
  <span class="s">'order-account-type'</span><span class="p">:</span> <span class="s">'existing'</span><span class="p">,</span>
  <span class="s">'order-account-gender'</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">})</span>
</code></pre>

<blockquote>
<p>Last login is not null</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/operations?order-account-last_login-isnull=no</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/operations?order-account-last_login-isnull=no"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">operations</span><span class="p">({</span>
  <span class="s">'order-account-last_login-isnull'</span><span class="p">:</span> <span class="bp">False</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order-account-id</td>
<td>hash</td>
<td><code class="prettyprint">string</code></td>
<td>Customer account <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>order-account-type</td>
<td>string</td>
<td><code class="prettyprint">choices</code></td>
<td>Customer type, the choices are <code class="prettyprint">g</code>:guest, <code class="prettyprint">n</code>:new, <code class="prettyprint">e</code>:existing.</td>
</tr>
<tr>
<td>order-account-gender</td>
<td>integer</td>
<td><code class="prettyprint">choices</code></td>
<td>Customer gender, the choices are <code class="prettyprint">0</code>: not known, <code class="prettyprint">1</code>: male, <code class="prettyprint">2</code>:female, <code class="prettyprint">3</code>: not applicable.</td>
</tr>
<tr>
<td>order-account-last_login</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime of the account&rsquo;s last login</td>
</tr>
<tr>
<td>order-account-date_joined</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime of the account&rsquo;s date joined</td>
</tr>
</tbody></table>

<h2 id="search">○ Search</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/operations?q=param1,param2,...</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/operations?q=param1,param2,..."</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">operations</span><span class="p">({</span>
  <span class="s">'q'</span><span class="p">:</span> <span class="s">'param1,param2,...'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/me/operations?q=param1,param2,...</code></p>

<p>To search operations queryset.</p>

<p>Aplazame API allows a list of field names that will be searched whenever somebody submits a search query param <code class="prettyprint">q</code>.</p>

<p>Searches will use case-insensitive partial matches. The search parameter may contain multiple search terms, which should be whitespace and/or comma separated. If multiple search terms are used then objects will be returned in the list only if all the provided terms are matched.</p>

<h3 id="fields">Fields</h3>

<blockquote>
<p>by some ID</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/operations?q=1000203</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/operations?q=1000203"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">operations</span><span class="p">({</span>
  <span class="s">'q'</span><span class="p">:</span> <span class="s">'1000203'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Operation id</td>
</tr>
<tr>
<td>order-id</td>
<td>Order id</td>
</tr>
<tr>
<td>order-mid</td>
<td>Order mid (your order id)</td>
</tr>
</tbody></table>

<h2 id="order">○ Order</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/operations?ordering=param1,-param2,...</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/operations?ordering=param1,-param2,..."</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">operations</span><span class="p">({</span>
  <span class="s">'ordering'</span><span class="p">:</span> <span class="s">'param1,-param2,...'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/me/operations?ordering=param1,-param2,...</code></p>

<p>To retrieve operations queryset ordered.</p>

<p>The ordering param is a tuple or list of strings. Each string is a field name with an optional <code class="prettyprint">-</code> prefix, which indicates descending order. Fields without a leading <code class="prettyprint">-</code> will be ordered ascending.</p>

<h3 id="by-operation">by operation</h3>

<blockquote>
<p>Ascending amount, Descending created</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/operations?ordering=amount,-created</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/operations?ordering=amount,-created"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">operations</span><span class="p">({</span>
  <span class="s">'ordering'</span><span class="p">:</span> <span class="s">'amount,-created'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td><a href="#decimals">decimal</a></td>
<td>Operation amount.</td>
</tr>
<tr>
<td>created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the operation was created.</td>
</tr>
<tr>
<td>paid</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the operation was paid.</td>
</tr>
<tr>
<td>read</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the operation was read.</td>
</tr>
</tbody></table>

<h3 id="by-order">by order</h3>

<blockquote>
<p>Descending order confirmed</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/operations?ordering=-order-confirmed</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/operations?ordering=-order-confirmed"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">operations</span><span class="p">({</span>
  <span class="s">'ordering'</span><span class="p">:</span> <span class="s">'-order-confirmed'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order-created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the order was created.</td>
</tr>
<tr>
<td>order-confirmed</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the order was confirmed.</td>
</tr>
</tbody></table>

<h2 id="detail">○ Detail</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/merchants/:merchantId/operations/:operationId</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "id": ":operationId"
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/operations/:operationId"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_operation</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="s">':operationId'</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/merchants/:merchantId/operations/:operationId</code></p>

<p>If you want to check the status of a operation, this is the service you need.</p>

<h3 id="me">/me</h3>

<p><code class="prettyprint">GET https://api.aplazame.com/me/operations/:operationId</code></p>

<p>To make all requests for a current merchant, you can replace <code class="prettyprint">/merchants/:merchantId</code> by <code class="prettyprint">/me</code>.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:merchantId</td>
<td>hash</td>
<td>String <code class="prettyprint">id</code> of the merchant to perform action with.</td>
</tr>
<tr>
<td>:operationId</td>
<td>hash</td>
<td>String <code class="prettyprint">id</code> of the operation to perform action with.</td>
</tr>
</tbody></table>

<h2 id="summary">○ Summary</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/operations/summary</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/operations/summary"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">operations_summary</span><span class="p">()</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/me/operations/summary</code></p>

<p>To retrieve operations summary grouped by month</p>

<h2 id="real-time">○ Real time</h2>
<pre class="highlight html"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"http://socket.aplazame.com/socket.io/socket.io.js"</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;script&gt;</span>
  <span class="kd">var</span> <span class="nx">socket</span> <span class="o">=</span> <span class="nx">io</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="s1">'http://socket.aplazame.com'</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre>
<pre class="highlight html"><code><span class="nt">&lt;script&gt;</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'connect'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">socket</span>
    <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'authenticated'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="nx">socket</span>
        <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'operations'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="p">})</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">'authenticate'</span><span class="p">,</span> <span class="p">{</span><span class="na">token</span><span class="p">:</span> <span class="s1">'your-jwt-token'</span><span class="p">});</span>
<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre>

<p>Aplazame provides a NodeJs server via the <a href="https://github.com/socketio/socket.io">socket.io</a> module for real-time event-based communication.</p>

<p>You can call join to subscribe the socket to the operations channel.</p>

<p><a href="https://tools.ietf.org/html/rfc7519">JSON Web Token</a> (JWT) is a compact, URL-safe means of representing claims to be transferred between the NodeJs server and the client. You can request <code class="prettyprint">/me</code> or <code class="prettyprint">/merchants</code> to get the jwt token by merchant.</p>

<h2 id="payments">+ Payments</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/merchants/:merchantId/payments?page=2</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "cursor": {
    "after": 3,
    "before": 1
  },
  "paging": {
    "count": 314,
    "next": "https://api.aplazame.com/merchants/:merchantId/payments?page=3",
    "previous": "https://api.aplazame.com/merchants/:merchantId/payments?page=1"
  },
  "results": [
  ]
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/payments"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="c"># Merchant request</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">merchant_request</span><span class="p">(</span><span class="s">'payments'</span><span class="p">,</span> <span class="s">':merchantId'</span><span class="p">)</span>
<span class="c"># Current merchant</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">payments</span><span class="p">()</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/merchants/:merchantId/payments</code></p>

<p>If you want to check the payments of a merchant, this is the service you need.</p>

<h3 id="me">/me</h3>

<p><code class="prettyprint">GET https://api.aplazame.com/me/payments</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mark_as_read</td>
<td>bool</td>
<td><code class="prettyprint">mark_as_read=yes</code> if you want to mark payments as read.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cursor</td>
<td>object</td>
<td>Pagination cursor object.</td>
</tr>
<tr>
<td>paging</td>
<td>object</td>
<td>Pagination state.</td>
</tr>
<tr>
<td>results</td>
<td>collection</td>
<td>Payments queryset.</td>
</tr>
</tbody></table>

<h2 id="filter">○ Filter</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/payments?param=value</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/payments?param=value"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">payments</span><span class="p">({</span>
  <span class="s">'param'</span><span class="p">:</span> <span class="s">'value'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/me/payments?param=value</code></p>

<p>To retrieve payments queryset filtered.</p>

<p><strong>Filters lookups</strong> are listed <strong><a href="#filters">HERE</a></strong>, <code class="prettyprint">string</code>, <code class="prettyprint">choices</code>, <code class="prettyprint">range</code>, <code class="prettyprint">isnull</code> and <code class="prettyprint">date</code>.</p>

<h3 id="payment-filter">Payment filter</h3>

<blockquote>
<p>Amount greater or exact</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/payments?amount-gte=462000</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/payments?amount-gte=462000"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">payments</span><span class="p">({</span>
  <span class="s">'amount-gte'</span><span class="p">:</span> <span class="mi">462000</span>
<span class="p">})</span>
</code></pre>

<blockquote>
<p>Created after</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/payments?created-gt=2015-12-22T15:09:30.537951Z</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/payments?created-gt=2015-12-22T15:09:30.537951Z"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">payments</span><span class="p">({</span>
  <span class="s">'created-gt'</span><span class="p">:</span> <span class="s">'2015-12-22T15:09:30.537951Z'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Lookups</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>hash</td>
<td><code class="prettyprint">string</code></td>
<td>Aplazame operation <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td><code class="prettyprint">choices</code></td>
<td>Payment type, the choices are <code class="prettyprint">order</code>, <code class="prettyprint">cancel</code>, <code class="prettyprint">refund</code> or <code class="prettyprint">regularization</code></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">range</code></td>
<td>Payment amount.</td>
</tr>
<tr>
<td>total_amount</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">range</code></td>
<td>Payment total amount (include fees and tax).</td>
</tr>
<tr>
<td>fee_rate</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">range</code></td>
<td>Payment fee rate.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the operation was created.</td>
</tr>
<tr>
<td>paid</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the operation was paid.</td>
</tr>
<tr>
<td>read</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the operation was read.</td>
</tr>
</tbody></table>

<h3 id="order-filter">Order filter</h3>

<blockquote>
<p>Total amount exact</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/payments?order-total_amount=462000</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/payments?order-total_amount=462000"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">payments</span><span class="p">({</span>
  <span class="s">'order-total_amount'</span><span class="p">:</span> <span class="mi">462000</span>
<span class="p">})</span>
</code></pre>

<blockquote>
<p>Confirmed after</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/payments?order-confirmed-gte=2015-12-22T15:09:30.537951Z</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/payments?order-confirmed-gte=2015-12-22T15:09:30.537951Z"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">payments</span><span class="p">({</span>
  <span class="s">'order-confirmed-gte'</span><span class="p">:</span> <span class="s">'2015-12-22T15:09:30.537951Z'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order-id</td>
<td>hash</td>
<td><code class="prettyprint">string</code></td>
<td>Aplazame order <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>order-mid</td>
<td>string</td>
<td><code class="prettyprint">string</code></td>
<td>Your order <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>order-total_amount</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">range</code></td>
<td>Order total amount.</td>
</tr>
<tr>
<td>order-discount</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">range</code></td>
<td>Order discount amount.</td>
</tr>
<tr>
<td>order-discount_rate</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">range</code></td>
<td>Order discount rate.</td>
</tr>
<tr>
<td>order-</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>order-created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the order was created.</td>
</tr>
<tr>
<td>order-confirmed</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the order was confirmed.</td>
</tr>
<tr>
<td>order-cancelled</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the order was cancelled.</td>
</tr>
</tbody></table>

<h3 id="downpayment-filter">Downpayment filter</h3>

<blockquote>
<p>Downpayment</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/payments?instalment_plan-downpayment-state=failed</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/payments?instalment_plan-downpayment-state=failed"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">payments</span><span class="p">({</span>
  <span class="s">'instalment_plan-downpayment-state'</span><span class="p">:</span> <span class="p">[</span><span class="s">'failed'</span><span class="p">]</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>instalment_plan-downpayment-state</td>
<td>string</td>
<td><code class="prettyprint">choices</code></td>
<td>Downpayment state</td>
</tr>
<tr>
<td>instalment_plan-downpayment-amount</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">range</code></td>
<td>Downpayment amount</td>
</tr>
</tbody></table>

<h3 id="customer-filter">Customer filter</h3>

<blockquote>
<p>Customer phone number exact</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/payments?customer-phone-number=612345678</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/payments?customer-phone-number=612345678"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">payments</span><span class="p">({</span>
  <span class="s">'customer-phone-number'</span><span class="p">:</span> <span class="s">'612345678'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>customer-id</td>
<td>hash</td>
<td><code class="prettyprint">string</code></td>
<td>Customer <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>customer-phone-number</td>
<td>string</td>
<td><code class="prettyprint">string</code></td>
<td>Customer mobile phone number.</td>
</tr>
<tr>
<td>customer-phone-country</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_3166-1">ISO 3166-1</a></td>
<td><code class="prettyprint">string</code></td>
<td>Customer phone country.</td>
</tr>
<tr>
<td>customer-created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the customer was created.</td>
</tr>
</tbody></table>

<h3 id="customer-document-id-filter">Customer document id filter</h3>

<blockquote>
<p>Document ID type, choices are nif OR nie</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/payments?customer-document_id-type=nif&amp;customer-document_id-type=nie</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/payments?customer-document_id-type=nif&amp;customer-document_id-type=nie"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">payments</span><span class="p">({</span>
  <span class="s">'customer-document_id-type'</span><span class="p">:</span> <span class="p">[</span><span class="s">'nif'</span><span class="p">,</span> <span class="s">'nie'</span><span class="p">]</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>customer-document_id-number</td>
<td>string</td>
<td><code class="prettyprint">string</code></td>
<td>Customer document id number.</td>
</tr>
<tr>
<td>customer-document_id-country</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_3166-1">ISO 3166-1</a></td>
<td><code class="prettyprint">string</code></td>
<td>Customer document id country.</td>
</tr>
<tr>
<td>customer-document_id-type</td>
<td>string</td>
<td><code class="prettyprint">choices</code></td>
<td>Customer document id type, the choices are <code class="prettyprint">nif</code>, <code class="prettyprint">nie</code>, <code class="prettyprint">cif</code>, <code class="prettyprint">passport</code>, <code class="prettyprint">others</code>.</td>
</tr>
</tbody></table>

<h3 id="account-filter">Account filter</h3>

<blockquote>
<p>Gender exact</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/payments?order-account-type=existing&amp;order-account-gender=0</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/payments?order-account-type=existing&amp;order-account-gender=0"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">payments</span><span class="p">({</span>
  <span class="s">'order-account-type'</span><span class="p">:</span> <span class="s">'existing'</span><span class="p">,</span>
  <span class="s">'order-account-gender'</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">})</span>
</code></pre>

<blockquote>
<p>Last login is not null</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/payments?order-account-last_login-isnull=no</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/payments?order-account-last_login-isnull=no"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">payments</span><span class="p">({</span>
  <span class="s">'order-account-last_login-isnull'</span><span class="p">:</span> <span class="bp">False</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order-account-id</td>
<td>hash</td>
<td><code class="prettyprint">string</code></td>
<td>Customer account <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>order-account-type</td>
<td>string</td>
<td><code class="prettyprint">choices</code></td>
<td>Customer type, the choices are <code class="prettyprint">g</code>:guest, <code class="prettyprint">n</code>:new, <code class="prettyprint">e</code>:existing.</td>
</tr>
<tr>
<td>order-account-gender</td>
<td>integer</td>
<td><code class="prettyprint">choices</code></td>
<td>Customer gender, the choices are <code class="prettyprint">0</code>: not known, <code class="prettyprint">1</code>: male, <code class="prettyprint">2</code>:female, <code class="prettyprint">3</code>: not applicable.</td>
</tr>
<tr>
<td>order-account-last_login</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime of the account&rsquo;s last login</td>
</tr>
<tr>
<td>order-account-date_joined</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime of the account&rsquo;s date joined</td>
</tr>
</tbody></table>

<h2 id="search">○ Search</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/payments?q=param1,param2,...</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/payments?q=param1,param2,..."</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">payments</span><span class="p">({</span>
  <span class="s">'q'</span><span class="p">:</span> <span class="s">'param1,param2,...'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/me/payments?q=param1,param2,...</code></p>

<p>To search payments queryset.</p>

<p>Aplazame API allows a list of field names that will be searched whenever somebody submits a search query param <code class="prettyprint">q</code>.</p>

<p>Searches will use case-insensitive partial matches. The search parameter may contain multiple search terms, which should be whitespace and/or comma separated. If multiple search terms are used then objects will be returned in the list only if all the provided terms are matched.</p>

<h3 id="fields">Fields</h3>

<blockquote>
<p>by some ID</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/payments?q=1000203</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/payments?q=1000203"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">payments</span><span class="p">({</span>
  <span class="s">'q'</span><span class="p">:</span> <span class="s">'1000203'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Payment id</td>
</tr>
<tr>
<td>order-id</td>
<td>Order id</td>
</tr>
<tr>
<td>order-mid</td>
<td>Order mid (your order id)</td>
</tr>
</tbody></table>

<h2 id="order">○ Order</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/payments?ordering=param1,-param2,...</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/payments?ordering=param1,-param2,..."</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">payments</span><span class="p">({</span>
  <span class="s">'ordering'</span><span class="p">:</span> <span class="s">'param1,-param2,...'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/me/payments?ordering=param1,-param2,...</code></p>

<p>To retrieve payments queryset ordered.</p>

<p>The ordering param is a tuple or list of strings. Each string is a field name with an optional <code class="prettyprint">-</code> prefix, which indicates descending order. Fields without a leading <code class="prettyprint">-</code> will be ordered ascending.</p>

<h3 id="by-operation">by operation</h3>

<blockquote>
<p>Ascending amount, Descending created</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/payments?ordering=amount,-created</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/payments?ordering=amount,-created"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">payments</span><span class="p">({</span>
  <span class="s">'ordering'</span><span class="p">:</span> <span class="s">'amount,-created'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td><a href="#decimals">decimal</a></td>
<td>Payment amount.</td>
</tr>
<tr>
<td>total amount</td>
<td><a href="#decimals">decimal</a></td>
<td>Payment total amount.</td>
</tr>
<tr>
<td>fee_rate</td>
<td><a href="#decimals">decimal</a></td>
<td>Payment fee rate.</td>
</tr>
<tr>
<td>created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the operation was created.</td>
</tr>
<tr>
<td>paid</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the operation was paid.</td>
</tr>
<tr>
<td>read</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the operation was read.</td>
</tr>
</tbody></table>

<h3 id="by-order">by order</h3>

<blockquote>
<p>Descending order confirmed</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/payments?ordering=-order-confirmed</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/payments?ordering=-order-confirmed"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">payments</span><span class="p">({</span>
  <span class="s">'ordering'</span><span class="p">:</span> <span class="s">'-order-confirmed'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order-created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the order was created.</td>
</tr>
<tr>
<td>order-confirmed</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the order was confirmed.</td>
</tr>
</tbody></table>

<h2 id="detail">○ Detail</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/merchants/:merchantId/payments/:paymentId</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "id": ":paymentId"
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/payments/:paymentId"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_payment</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="s">':paymentId'</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/merchants/:merchantId/payments/:paymentId</code></p>

<p>If you want to check the status of a payment, this is the service you need.</p>

<h3 id="me">/me</h3>

<p><code class="prettyprint">GET https://api.aplazame.com/me/payments/:paymentId</code></p>

<p>To make all requests for a current merchant, you can replace <code class="prettyprint">/merchants/:merchantId</code> by <code class="prettyprint">/me</code>.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:merchantId</td>
<td>hash</td>
<td>String <code class="prettyprint">id</code> of the merchant to perform action with.</td>
</tr>
<tr>
<td>:paymentId</td>
<td>hash</td>
<td>String <code class="prettyprint">id</code> of the payment to perform action with.</td>
</tr>
</tbody></table>

<h2 id="summary">○ Summary</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/payments/summary</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/payments/summary"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">payments_summary</span><span class="p">()</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/me/payments/summary</code></p>

<p>To retrieve payments summary grouped by month.</p>

<h2 id="real-time">○ Real time</h2>
<pre class="highlight html"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"http://socket.aplazame.com/socket.io/socket.io.js"</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;script&gt;</span>
  <span class="kd">var</span> <span class="nx">socket</span> <span class="o">=</span> <span class="nx">io</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="s1">'http://socket.aplazame.com'</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre>
<pre class="highlight html"><code><span class="nt">&lt;script&gt;</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'connect'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">socket</span>
    <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'authenticated'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="nx">socket</span>
        <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'payments'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="p">})</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">'authenticate'</span><span class="p">,</span> <span class="p">{</span><span class="na">token</span><span class="p">:</span> <span class="s1">'your-jwt-token'</span><span class="p">});</span>
<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre>

<p>Aplazame provides a NodeJs server via the <a href="https://github.com/socketio/socket.io">socket.io</a> module for real-time event-based communication.</p>

<p>You can call join to subscribe the socket to the payments channel.</p>

<p><a href="https://tools.ietf.org/html/rfc7519">JSON Web Token</a> (JWT) is a compact, URL-safe means of representing claims to be transferred between the NodeJs server and the client. You can request <code class="prettyprint">/me</code> or <code class="prettyprint">/merchants</code> to get the jwt token by merchant.</p>

<h2 id="invoices">+ Invoices</h2>

<h2 id="list">○ List</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/merchants/:merchantId/invoices?page=2</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "cursor": {
    "after": 3,
    "before": 1
  },
  "paging": {
    "count": 314,
    "next": "https://api.aplazame.com/merchants/:merchantId/invoices?page=3",
    "previous": "https://api.aplazame.com/merchants/:merchantId/invoices?page=1"
  },
  "results": [
  ]
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/invoices"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="c"># Merchant request</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">merchant_request</span><span class="p">(</span><span class="s">'invoices'</span><span class="p">,</span> <span class="s">':merchantId'</span><span class="p">)</span>
<span class="c"># Current merchant</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">invoices</span><span class="p">()</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/merchants/:merchantId/invoices</code></p>

<p>To retrieve invoices queryset.</p>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cursor</td>
<td>object</td>
<td>Pagination cursor object.</td>
</tr>
<tr>
<td>paging</td>
<td>object</td>
<td>Pagination state.</td>
</tr>
<tr>
<td>results</td>
<td>collection</td>
<td>Invoices queryset.</td>
</tr>
</tbody></table>

<h2 id="filter">○ Filter</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/merchants/:merchantId/invoices?page=2&amp;created-startswith=2016-01</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "cursor": {
    "after": 3,
    "before": 1
  },
  "paging": {
    "count": 314,
    "next": "https://api.aplazame.com/merchants/:merchantId/invoices?page=3&amp;created-startswith=2016-01",
    "previous": "https://api.aplazame.com/merchants/:merchantId/invoices?page=1&amp;created-startswith=2016-01"
  },
  "results": [
  ]
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/invoices?created-startswith=2016-01"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="c"># Merchant request</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">merchant_request</span><span class="p">(</span><span class="s">'invoices'</span><span class="p">,</span> <span class="s">':merchantId'</span><span class="p">,</span> <span class="p">{</span>
  <span class="s">'created-startswith'</span><span class="p">:</span> <span class="s">'2016-01'</span>
<span class="p">})</span>
<span class="c"># Current merchant</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">invoices</span><span class="p">({</span>
  <span class="s">'created-startswith'</span><span class="p">:</span> <span class="s">'2016-01'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Lookups</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">date</code>, <code class="prettyprint">range</code>, <code class="prettyprint">startswith</code></td>
<td>A datetime designating when the instalment payment was created.</td>
</tr>
</tbody></table>

<h2 id="instalment-payments">+ Instalment Payments</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/merchants/:merchantId/instalment-payments?page=2</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "cursor": {
    "after": 3,
    "before": 1
  },
  "paging": {
    "count": 314,
    "next": "https://api.aplazame.com/merchants/:merchantId/instalment-payments?page=3",
    "previous": "https://api.aplazame.com/merchants/:merchantId/instalment-payments?page=1"
  },
  "results": [
  ]
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/instalment-payments"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="c"># Merchant request</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">merchant_request</span><span class="p">(</span><span class="s">'instalment-payments'</span><span class="p">,</span> <span class="s">':merchantId'</span><span class="p">)</span>
<span class="c"># Current merchant</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">instalment_payments</span><span class="p">()</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/merchants/:merchantId/instalment-payments</code></p>

<p>If you want to check the Aplazame instalment payments, this is the service you need.</p>

<h3 id="me">/me</h3>

<p><code class="prettyprint">GET https://api.aplazame.com/me/instalment-payments</code></p>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cursor</td>
<td>object</td>
<td>Pagination cursor object.</td>
</tr>
<tr>
<td>paging</td>
<td>object</td>
<td>Pagination state.</td>
</tr>
<tr>
<td>results</td>
<td>collection</td>
<td>Instalment payments queryset.</td>
</tr>
</tbody></table>

<h2 id="filter">○ Filter</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/instalment-payments?param=value</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/instalment-payments?param=value"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">instalment_payments</span><span class="p">({</span>
  <span class="s">'param'</span><span class="p">:</span> <span class="s">'value'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/me/instalment-payments?param=value</code></p>

<p>To retrieve instalment payments queryset filtered.</p>

<p><strong>Filters lookups</strong> are listed <strong><a href="#filters">HERE</a></strong>, <code class="prettyprint">string</code>, <code class="prettyprint">choices</code>, <code class="prettyprint">range</code>, <code class="prettyprint">isnull</code> and <code class="prettyprint">date</code>.</p>

<h3 id="instalment-payment-filter">Instalment payment filter</h3>

<blockquote>
<p>Amount greater or exact and fee rate less</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/instalment-payments?amount-gte=462000&amp;fee_rate-lt=10</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/instalment-payments?amount-gte=462000&amp;fee_rate-lt=10"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">instalment_payments</span><span class="p">({</span>
  <span class="s">'amount-gte'</span><span class="p">:</span> <span class="mi">462000</span><span class="p">,</span>
  <span class="s">'fee_rate-lt'</span><span class="p">:</span> <span class="mi">10</span> <span class="c"># 0.1%</span>
<span class="p">})</span>
</code></pre>

<blockquote>
<p>Created after</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/instalment-payments?created-gt=2015-12-22T15:09:30.537951Z</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/instalment-payments?created-gt=2015-12-22T15:09:30.537951Z"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">instalment_payments</span><span class="p">({</span>
  <span class="s">'created-gt'</span><span class="p">:</span> <span class="s">'2015-12-22T15:09:30.537951Z'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Lookups</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>hash</td>
<td><code class="prettyprint">string</code></td>
<td>Instalment payment <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>amount</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">range</code></td>
<td>Instalment payment amount.</td>
</tr>
<tr>
<td>total_paid</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">range</code></td>
<td>Instalment payment total paid, includes recovery.</td>
</tr>
<tr>
<td>daily_penalty_interes</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">range</code></td>
<td>Daily penalty interest per unit.</td>
</tr>
<tr>
<td>penalty_fee</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">range</code></td>
<td>Penalty fee amount.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the instalment payment was created.</td>
</tr>
<tr>
<td>collected</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the instalment payment was collected.</td>
</tr>
</tbody></table>

<h3 id="order-filter">Order filter</h3>

<blockquote>
<p>Total amount exact</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/instalment-payments?order-total_amount=462000</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/instalment-payments?order-total_amount=462000"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">instalment_payments</span><span class="p">({</span>
  <span class="s">'order-total_amount'</span><span class="p">:</span> <span class="mi">462000</span>
<span class="p">})</span>
</code></pre>

<blockquote>
<p>Confirmed after</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/instalment-payments?order-confirmed-gte=2015-12-22T15:09:30.537951Z</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/instalment-payments?order-confirmed-gte=2015-12-22T15:09:30.537951Z"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">instalment_payments</span><span class="p">({</span>
  <span class="s">'order-confirmed-gte'</span><span class="p">:</span> <span class="s">'2015-12-22T15:09:30.537951Z'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order-id</td>
<td>hash</td>
<td><code class="prettyprint">string</code></td>
<td>Aplazame order <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>order-mid</td>
<td>string</td>
<td><code class="prettyprint">string</code></td>
<td>Your order <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>order-total_amount</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">range</code></td>
<td>Order total amount.</td>
</tr>
<tr>
<td>order-discount</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">range</code></td>
<td>Order discount amount.</td>
</tr>
<tr>
<td>order-discount_rate</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">range</code></td>
<td>Order discount rate.</td>
</tr>
<tr>
<td>order-</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>order-created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the order was created.</td>
</tr>
<tr>
<td>order-confirmed</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the order was confirmed.</td>
</tr>
<tr>
<td>order-cancelled</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the order was cancelled.</td>
</tr>
</tbody></table>

<h3 id="downpayment-filter">Downpayment filter</h3>

<blockquote>
<p>Downpayment</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/instalment-payments?instalment_plan-downpayment-state=failed</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/instalment-payments?instalment_plan-downpayment-state=failed"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">instalment_payments</span><span class="p">({</span>
  <span class="s">'instalment_plan-downpayment-state'</span><span class="p">:</span> <span class="p">[</span><span class="s">'failed'</span><span class="p">]</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>instalment_plan-downpayment-state</td>
<td>string</td>
<td><code class="prettyprint">choices</code></td>
<td>Downpayment state</td>
</tr>
<tr>
<td>instalment_plan-downpayment-amount</td>
<td><a href="#decimals">decimal</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">range</code></td>
<td>Downpayment amount</td>
</tr>
</tbody></table>

<h3 id="customer-filter">Customer filter</h3>

<blockquote>
<p>Customer phone number exact</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/instalment-payments?customer-phone-number=612345678</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/instalment-payments?customer-phone-number=612345678"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">instalment_payments</span><span class="p">({</span>
  <span class="s">'customer-phone-number'</span><span class="p">:</span> <span class="s">'612345678'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>customer-id</td>
<td>hash</td>
<td><code class="prettyprint">string</code></td>
<td>Customer <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>customer-phone-number</td>
<td>string</td>
<td><code class="prettyprint">string</code></td>
<td>Customer mobile phone number.</td>
</tr>
<tr>
<td>customer-phone-country</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_3166-1">ISO 3166-1</a></td>
<td><code class="prettyprint">string</code></td>
<td>Customer phone country.</td>
</tr>
<tr>
<td>customer-created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the customer was created.</td>
</tr>
</tbody></table>

<h3 id="customer-document-id-filter">Customer document id filter</h3>

<blockquote>
<p>Document ID type, choices are nif OR nie</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/instalment-payments?customer-document_id-type=nif&amp;customer-document_id-type=nie</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/instalment-payments?customer-document_id-type=nif&amp;customer-document_id-type=nie"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">instalment_payments</span><span class="p">({</span>
  <span class="s">'customer-document_id-type'</span><span class="p">:</span> <span class="p">[</span><span class="s">'nif'</span><span class="p">,</span> <span class="s">'nie'</span><span class="p">]</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>customer-document_id-number</td>
<td>string</td>
<td><code class="prettyprint">string</code></td>
<td>Customer document id number.</td>
</tr>
<tr>
<td>customer-document_id-country</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_3166-1">ISO 3166-1</a></td>
<td><code class="prettyprint">string</code></td>
<td>Customer document id country.</td>
</tr>
<tr>
<td>customer-document_id-type</td>
<td>string</td>
<td><code class="prettyprint">choices</code></td>
<td>Customer document id type, the choices are <code class="prettyprint">nif</code>, <code class="prettyprint">nie</code>, <code class="prettyprint">cif</code>, <code class="prettyprint">passport</code>, <code class="prettyprint">others</code>.</td>
</tr>
</tbody></table>

<h3 id="account-filter">Account filter</h3>

<blockquote>
<p>Gender exact</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/instalment-payments?order-account-type=existing&amp;order-account-gender=0</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/instalment-payments?order-account-type=existing&amp;order-account-gender=0"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">instalment_payments</span><span class="p">({</span>
  <span class="s">'order-account-type'</span><span class="p">:</span> <span class="s">'existing'</span><span class="p">,</span>
  <span class="s">'order-account-gender'</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">})</span>
</code></pre>

<blockquote>
<p>Last login is not null</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/instalment-payments?order-account-last_login-isnull=no</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/instalment-payments?order-account-last_login-isnull=no"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">instalment_payments</span><span class="p">({</span>
  <span class="s">'order-account-last_login-isnull'</span><span class="p">:</span> <span class="bp">False</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order-account-id</td>
<td>hash</td>
<td><code class="prettyprint">string</code></td>
<td>Customer account <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>order-account-type</td>
<td>string</td>
<td><code class="prettyprint">choices</code></td>
<td>Customer type, the choices are <code class="prettyprint">g</code>:guest, <code class="prettyprint">n</code>:new, <code class="prettyprint">e</code>:existing.</td>
</tr>
<tr>
<td>order-account-gender</td>
<td>integer</td>
<td><code class="prettyprint">choices</code></td>
<td>Customer gender, the choices are <code class="prettyprint">0</code>: not known, <code class="prettyprint">1</code>: male, <code class="prettyprint">2</code>:female, <code class="prettyprint">3</code>: not applicable.</td>
</tr>
<tr>
<td>order-account-last_login</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime of the account&rsquo;s last login</td>
</tr>
<tr>
<td>order-account-date_joined</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">isnull</code>, <code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime of the account&rsquo;s date joined</td>
</tr>
</tbody></table>

<h2 id="search">○ Search</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/instalment-payments?q=param1,param2,...</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/instalment-payments?q=param1,param2,..."</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">instalment_payments</span><span class="p">({</span>
  <span class="s">'q'</span><span class="p">:</span> <span class="s">'param1,param2,...'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/me/instalment-payments?q=param1,param2,...</code></p>

<p>To search instalment payments queryset.</p>

<p>Aplazame API allows a list of field names that will be searched whenever somebody submits a search query param <code class="prettyprint">q</code>.</p>

<p>Searches will use case-insensitive partial matches. The search parameter may contain multiple search terms, which should be whitespace and/or comma separated. If multiple search terms are used then objects will be returned in the list only if all the provided terms are matched.</p>

<h3 id="fields">Fields</h3>

<blockquote>
<p>by some ID</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/instalment-payments?q=1000203</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/instalment-payments?q=1000203"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">instalment_payments</span><span class="p">({</span>
  <span class="s">'q'</span><span class="p">:</span> <span class="s">'1000203'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Instalment payment id</td>
</tr>
<tr>
<td>order-id</td>
<td>Order id</td>
</tr>
<tr>
<td>order-mid</td>
<td>Order mid (your order id)</td>
</tr>
</tbody></table>

<h2 id="order">○ Order</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/instalment-payments?ordering=param1,-param2,...</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/instalment-payments?ordering=param1,-param2,..."</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">instalment_payments</span><span class="p">({</span>
  <span class="s">'ordering'</span><span class="p">:</span> <span class="s">'param1,-param2,...'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/me/instalment-payments?ordering=param1,-param2,...</code></p>

<p>To retrieve instalment payments queryset ordered.</p>

<p>The ordering param is a tuple or list of strings. Each string is a field name with an optional <code class="prettyprint">-</code> prefix, which indicates descending order. Fields without a leading <code class="prettyprint">-</code> will be ordered ascending.</p>

<h3 id="by-operation">by operation</h3>

<blockquote>
<p>Ascending amount, Descending created</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/instalment-payments?ordering=amount,-created</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/instalment-payments?ordering=amount,-created"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">instalment_payments</span><span class="p">({</span>
  <span class="s">'ordering'</span><span class="p">:</span> <span class="s">'amount,-created'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td><a href="#decimals">decimal</a></td>
<td>Instalment payment amount.</td>
</tr>
<tr>
<td>fee_rate</td>
<td><a href="#decimals">decimal</a></td>
<td>Instalment payment fee rate.</td>
</tr>
<tr>
<td>created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the operation was created.</td>
</tr>
<tr>
<td>paid</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the operation was paid.</td>
</tr>
<tr>
<td>read</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the operation was read.</td>
</tr>
</tbody></table>

<h3 id="by-order">by order</h3>

<blockquote>
<p>Descending order confirmed</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me/instalment-payments?ordering=-order-confirmed</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/me/instalment-payments?ordering=-order-confirmed"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">instalment_payments</span><span class="p">({</span>
  <span class="s">'ordering'</span><span class="p">:</span> <span class="s">'-order-confirmed'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order-created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the order was created.</td>
</tr>
<tr>
<td>order-confirmed</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the order was confirmed.</td>
</tr>
</tbody></table>

          <h1 id="campaigns">+ Campaigns</h1>

<h2 id="list">○ List</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/merchants/:merchantId/campaigns?page=2</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "cursor": {
    "after": 3,
    "before": 1
  },
  "paging": {
    "count": 314,
    "next": "https://api.aplazame.com/merchants/:merchantId/campaigns?page=3",
    "previous": "https://api.aplazame.com/merchants/:merchantId/campaigns?page=1"
  },
  "results": [
  ]
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/campaigns"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="c"># Merchant request</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">merchant_request</span><span class="p">(</span><span class="s">'campaigns'</span><span class="p">,</span> <span class="s">':merchantId'</span><span class="p">)</span>
<span class="c"># Current merchant</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">campaigns</span><span class="p">()</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/merchants/:merchantId/campaigns</code></p>

<p>To retrieve campaigns queryset.</p>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cursor</td>
<td>object</td>
<td>Pagination cursor object.</td>
</tr>
<tr>
<td>paging</td>
<td>object</td>
<td>Pagination state.</td>
</tr>
<tr>
<td>results</td>
<td>collection</td>
<td>Campaigns queryset.</td>
</tr>
</tbody></table>

<h2 id="create">○ Create</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/merchants/:merchantId/campaigns</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>

{
  "name": "Summertime",
  "start_date": "2016-06-01",
  "end_date": "2016-08-31",
  "interest": "2500",
  "partial": true,
  "num_instalments": [1, 2, 3, 5, 8]
}
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">CREATED</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{  
  "id": "c994e03e42d24be7bf6e1fcbad3334c0",
  "name": "Summertime",
  "slug": "summertime",
  "start_date": "2016-06-01",
  "end_date": "2016-08-31",
  "interest": 2500,
  "partial": false,
  "num_instalments": [1, 2, 3, 5, 8],
  "created": "2016-03-10T11:08:57.265971"
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/campaigns"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    --data-binary <span class="s1">'{
      "name": "Summertime",
      "start_date": "2016-06-01",
      "end_date": "2016-08-31",
      "interest": "2500",
      "partial": true,
      "num_instalments": [1, 2, 3, 5, 8]
    }'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">post_campaign</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="p">{</span>
  <span class="s">'name'</span><span class="p">:</span> <span class="s">'Summertime'</span><span class="p">,</span>
  <span class="s">'start_date'</span><span class="p">:</span> <span class="s">'2016-06-01'</span><span class="p">,</span>
  <span class="s">'end_date'</span><span class="p">:</span> <span class="s">'2016-08-31'</span><span class="p">,</span>
  <span class="s">'interest'</span><span class="p">:</span> <span class="s">'2500'</span><span class="p">,</span>
  <span class="s">'partial'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
  <span class="s">'num_instalments'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">POST https://api.aplazame.com/merchants/:merchantId/campaigns</code></p>

<p>To create a campaign.</p>

<h3 id="payload">Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>yes</td>
<td>Campaign name.</td>
</tr>
<tr>
<td>start_date</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>yes</td>
<td>Date when the campaign begins.</td>
</tr>
<tr>
<td>end_date</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>no</td>
<td>Date when the campaign ends.</td>
</tr>
<tr>
<td>interest</td>
<td><a href="#decimals">decimals</a></td>
<td>yes</td>
<td>Interest discount rate.</td>
</tr>
<tr>
<td>partial</td>
<td>bool</td>
<td>no</td>
<td>Determines if the campaign applies to all products, <code class="prettyprint">false</code> by default.</td>
</tr>
<tr>
<td>num_instalments</td>
<td>array</td>
<td>no</td>
<td>Number of instalments available for the campaign.</td>
</tr>
</tbody></table>

<h2 id="detail">○ Detail</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/merchants/:merchantId/campaigns/:campaignSlug</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{  
   "id": "c994e03e42d24be7bf6e1fcbad3334c0",
   "name": "Summertime",
   "slug": "summertime",
   "start_date": "2016-06-01",
   "end_date": "2016-08-31",
   "interest": 2500,
   "partial": false,
   "num_instalments": [1, 2, 3, 5, 8],
   "created": "2016-03-10T11:08:57.265971"
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_campaign</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="s">':campaignSlug'</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug</code></p>

<p>If you want to check the status of a campaign, this is the service you need.</p>

<h3 id="me">/me</h3>

<p><code class="prettyprint">GET https://api.aplazame.com/me/campaigns/:campaignSlug</code></p>

<p>To make all requests for a current merchant, you can replace <code class="prettyprint">/merchants/:merchantId</code> by <code class="prettyprint">/me</code>.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:merchantId</td>
<td>hash</td>
<td>String <code class="prettyprint">id</code> of the merchant to perform action with.</td>
</tr>
<tr>
<td>:campaignSlug</td>
<td><a href="https://en.wikipedia.org/wiki/Semantic_URL#Slug">slug</a></td>
<td>String <code class="prettyprint">slug</code> of the campaign to perform action with.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>hash</td>
<td>Hostname id,</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Campaign name.</td>
</tr>
<tr>
<td>slug</td>
<td><a href="https://en.wikipedia.org/wiki/Semantic_URL#Slug">slug</a></td>
<td>Campaign slug.</td>
</tr>
<tr>
<td>start_date</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>Date when the campaign begins.</td>
</tr>
<tr>
<td>end_date</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>Date when the campaign ends.</td>
</tr>
<tr>
<td>interest</td>
<td><a href="#decimals">decimals</a></td>
<td>Interest discount rate.</td>
</tr>
<tr>
<td>partial</td>
<td>bool</td>
<td>Determines if the campaign applies to all products.</td>
</tr>
</tbody></table>

<h2 id="edit">○ Edit</h2>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/merchants/:merchantId/campaigns/:campaignSlug</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>

{
  "name": "Summertime",
  "start_date": "2016-06-01",
  "end_date": "2016-08-31",
  "interest": "2500",
  "partial": true,
  "num_instalments": [1, 2, 3, 5, 8]
}
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">NO CONTENT</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    -X PUT<span class="se">\</span>
    --data-binary <span class="s1">'{
      "name": "Summertime",
      "start_date": "2016-06-01",
      "end_date": "2016-08-31",
      "interest": "2500",
      "partial": true,
      "num_instalments": [1, 2, 3, 5, 8]
    }'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">put_campaign</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="s">':campaignSlug'</span><span class="p">,</span> <span class="p">{</span>
  <span class="s">'name'</span><span class="p">:</span> <span class="s">'Summertime'</span><span class="p">,</span>
  <span class="s">'start_date'</span><span class="p">:</span> <span class="s">'2016-06-01'</span><span class="p">,</span>
  <span class="s">'end_date'</span><span class="p">:</span> <span class="s">'2016-08-31'</span><span class="p">,</span>
  <span class="s">'interest'</span><span class="p">:</span> <span class="s">'2500'</span><span class="p">,</span>
  <span class="s">'partial'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
  <span class="s">'num_instalments'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">PUT https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug</code></p>

<h3 id="me">/me</h3>

<p><code class="prettyprint">PUT https://api.aplazame.com/me/campaigns/:campaignSlug</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:merchantId</td>
<td>hash</td>
<td>String <code class="prettyprint">id</code> of the merchant to perform action with.</td>
</tr>
<tr>
<td>:campaignSlug</td>
<td><a href="https://en.wikipedia.org/wiki/Semantic_URL#Slug">slug</a></td>
<td>String <code class="prettyprint">slug</code> of the campaign to perform action with.</td>
</tr>
</tbody></table>

<h3 id="payload">Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>yes</td>
<td>Campaign name.</td>
</tr>
<tr>
<td>start_date</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>yes</td>
<td>Date when the campaign begins.</td>
</tr>
<tr>
<td>end_date</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>no</td>
<td>Date when the campaign ends.</td>
</tr>
<tr>
<td>interest</td>
<td><a href="#decimals">decimals</a></td>
<td>yes</td>
<td>Interest discount rate.</td>
</tr>
<tr>
<td>partial</td>
<td>bool</td>
<td>no</td>
<td>Determines if the campaign applies to all products, <code class="prettyprint">false</code> by default.</td>
</tr>
<tr>
<td>num_instalments</td>
<td>array</td>
<td>no</td>
<td>Number of instalments available for the campaign.</td>
</tr>
</tbody></table>

<h2 id="partial-edit">○ Partial edit</h2>
<pre class="highlight http"><code><span class="nf">PATCH</span> <span class="nn">/merchants/:merchantId/campaigns/:campaignSlug</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>

{
  "start_date": "2016-06-22"
}
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">NO CONTENT</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    -X PATCH<span class="se">\</span>
    --data-binary <span class="s1">'{
      "start_date": "2016-06-22"
    }'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">patch_campaign</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="s">':campaignSlug'</span><span class="p">,</span> <span class="p">{</span>
  <span class="s">'start_date'</span><span class="p">:</span> <span class="s">'2016-06-22'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">PATCH https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug</code></p>

<h3 id="me">/me</h3>

<p><code class="prettyprint">PATCH https://api.aplazame.com/me/campaigns/:campaignSlug</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:merchantId</td>
<td>hash</td>
<td>String <code class="prettyprint">id</code> of the merchant to perform action with.</td>
</tr>
<tr>
<td>:campaignSlug</td>
<td><a href="https://en.wikipedia.org/wiki/Semantic_URL#Slug">slug</a></td>
<td>String <code class="prettyprint">slug</code> of the campaign to perform action with.</td>
</tr>
</tbody></table>

<h3 id="payload">Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>no</td>
<td>Campaign name.</td>
</tr>
<tr>
<td>start_date</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>no</td>
<td>Date when the campaign begins.</td>
</tr>
<tr>
<td>end_date</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>no</td>
<td>Date when the campaign ends.</td>
</tr>
<tr>
<td>interest</td>
<td><a href="#decimals">decimals</a></td>
<td>no</td>
<td>Interest discount rate.</td>
</tr>
<tr>
<td>partial</td>
<td>bool</td>
<td>no</td>
<td>Determines if the campaign applies to all products, <code class="prettyprint">false</code> by default.</td>
</tr>
<tr>
<td>num_instalments</td>
<td>array</td>
<td>no</td>
<td>Number of instalments available for the campaign.</td>
</tr>
</tbody></table>

<h2 id="delete">○ Delete</h2>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/merchants/:merchantId/campaigns/:campaignSlug</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">NO CONTENT</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug "</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    -X DELETE
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">delete_campaign</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="s">':campaignSlug'</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">DELETE https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug</code></p>

<p>If you want to delete any campaign, this is the service you need.</p>

<h2 id="articles">+ Articles</h2>

<h2 id="list">○ List</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/merchants/:merchantId/campaigns/:campaignSlug/articles?page=2</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "cursor": {
    "after": 3,
    "before": 1
  },
  "paging": {
    "count": 314,
    "next": "https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug/articles?page=3",
    "previous": "https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug/articles?page=1"
  },
  "results": [
  ]
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug/articles"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_campaign_articles</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="s">':campaignSlug'</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug/articles</code></p>

<p>To retrieve articles on campaigns.</p>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cursor</td>
<td>object</td>
<td>Pagination cursor object.</td>
</tr>
<tr>
<td>paging</td>
<td>object</td>
<td>Pagination state.</td>
</tr>
<tr>
<td>results</td>
<td>collection</td>
<td>Campaigns queryset.</td>
</tr>
</tbody></table>

<h2 id="collect">○ Collect</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/merchants/:merchantId/campaigns/:campaignSlug/articles</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>

[
  {
    "id": "89793238462643383279",
    "name": "Reloj en oro blanco de 18 quilates y diamantes",
    "description": "Movimiento de cuarzo de alta precisión",
    "url": "http://www.chanel.com...",
    "image_url": "http://www.chanel.com..."
  },
  {
    "id": "59825349042875546873",
    "name": "N°5 eau premiere spray",
    "description": "A decidedly lighter, fresher...",
    "url": "http://www.chanel.com...",
    "image_url": "http://www.chanel.com..."
  }
]
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">NO CONTENT</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug/articles"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    --data-binary <span class="s1">'[
  {
    "id": "89793238462643383279",
    "name": "Reloj en oro blanco de 18 quilates y diamantes",
    "description": "Movimiento de cuarzo de alta precisión",
    "url": "http://www.chanel.com...",
    "image_url": "http://www.chanel.com..."
  },
  {
    "id": "59825349042875546873",
    "name": "N°5 eau premiere spray",
    "description": "A decidedly lighter, fresher...",
    "url": "http://www.chanel.com...",
    "image_url": "http://www.chanel.com..."
  }
]'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">post_campaign_articles</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="s">':campaignSlug'</span><span class="p">,</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="s">'id'</span><span class="p">:</span> <span class="s">'89793238462643383279'</span><span class="p">,</span>
    <span class="s">'name'</span><span class="p">:</span> <span class="s">'Reloj en oro blanco de 18 quilates y diamantes'</span><span class="p">,</span>
    <span class="s">'description'</span><span class="p">:</span> <span class="s">'Movimiento de cuarzo de alta precisión'</span><span class="p">,</span>
    <span class="s">'url'</span><span class="p">:</span> <span class="s">'http://www.chanel.com...'</span><span class="p">,</span>
    <span class="s">'image_url'</span><span class="p">:</span> <span class="s">'http://www.chanel.com...'</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s">'id'</span><span class="p">:</span> <span class="s">'59825349042875546873'</span><span class="p">,</span>
    <span class="s">'name'</span><span class="p">:</span> <span class="s">'N°5 eau premiere spray'</span><span class="p">,</span>
    <span class="s">'description'</span><span class="p">:</span> <span class="s">'A decidedly lighter, fresher...'</span><span class="p">,</span>
    <span class="s">'url'</span><span class="p">:</span> <span class="s">'http://www.chanel.com...'</span><span class="p">,</span>
    <span class="s">'image_url'</span><span class="p">:</span> <span class="s">'http://www.chanel.com...'</span>
  <span class="p">}</span>
<span class="p">])</span>
</code></pre>

<p><code class="prettyprint">POST https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug/articles</code></p>

<h3 id="payload">Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>yes</td>
<td>The article <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>yes</td>
<td>Article name.</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>no</td>
<td>Article description.</td>
</tr>
<tr>
<td>url</td>
<td>url</td>
<td>yes</td>
<td>Article url.</td>
</tr>
<tr>
<td>image_url</td>
<td>url</td>
<td>no</td>
<td>Article image url.</td>
</tr>
</tbody></table>

<h2 id="delete-all">○ Delete all</h2>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/merchants/:merchantId/campaigns/:campaignSlug/articles</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">NO CONTENT</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug/articles"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    -X DELETE<span class="s1">'
</span></code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">delete_campaign_articles</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="s">':campaignSlug'</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">DELETE https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug/articles</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:merchantId</td>
<td>hash</td>
<td>String <code class="prettyprint">id</code> of the merchant to perform action with.</td>
</tr>
<tr>
<td>:campaignSlug</td>
<td><a href="https://en.wikipedia.org/wiki/Semantic_URL#Slug">slug</a></td>
<td>String <code class="prettyprint">slug</code> of the campaign to perform action with.</td>
</tr>
</tbody></table>

<h2 id="delete-single-article">○ Delete single article</h2>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/merchants/:merchantId/campaigns/:campaignSlug/articles/:articleId</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">NO CONTENT</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug/articles/:articleId"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    -X DELETE<span class="s1">'
</span></code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">delete_campaign_article</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="s">':campaignSlug'</span><span class="p">,</span> <span class="s">':articleId'</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">DELETE https://api.aplazame.com/merchants/:merchantId/campaigns/:campaignSlug/articles/:articleId</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:merchantId</td>
<td>hash</td>
<td>String <code class="prettyprint">id</code> of the merchant to perform action with.</td>
</tr>
<tr>
<td>:campaignSlug</td>
<td><a href="https://en.wikipedia.org/wiki/Semantic_URL#Slug">slug</a></td>
<td>String <code class="prettyprint">slug</code> of the campaign to perform action with.</td>
</tr>
<tr>
<td>:articleId</td>
<td>hash</td>
<td>String <code class="prettyprint">id</code> of the article to perform action with.</td>
</tr>
</tbody></table>

          <h1 id="widgets">+ Widgets</h1>

<p>Before you use a widget, you must import aplazame-js and configure <a href="#3-steps-to-checkout-v2">options</a>.</p>

<h2 id="frontend">○ Frontend</h2>
<pre class="highlight html"><code><span class="nt">&lt;div</span> <span class="na">data-aplazame-simulator=</span><span class="s">""</span>
    <span class="na">data-amount=</span><span class="s">"12050"</span>
    <span class="na">data-price=</span><span class="s">"form.details [itemprop='price']"</span>
    <span class="na">data-qty=</span><span class="s">"form.details input[name='qty']"</span>
    <span class="na">data-view=</span><span class="s">"product"</span>
    <span class="na">data-currency=</span><span class="s">"EUR"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/instalment-plan-simulator?amount=12050&amp;view=product&amp;currency=EUR</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td><a href="#decimals">decimal</a></td>
<td>yes</td>
<td>order amount.</td>
</tr>
<tr>
<td>price</td>
<td><a href="http://www.w3schools.com/cssref/css_selectors.asp">selector</a></td>
<td>no</td>
<td>CSS selector to price.</td>
</tr>
<tr>
<td>qty</td>
<td><a href="http://www.w3schools.com/cssref/css_selectors.asp">selector</a></td>
<td>no</td>
<td>CSS selector to product quantity form field.</td>
</tr>
<tr>
<td>currency</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_4217">ISO 4217</a></td>
<td>no</td>
<td>Currency code of the order.</td>
</tr>
<tr>
<td>view</td>
<td>select</td>
<td>no</td>
<td>Choices are <code class="prettyprint">product</code>, <code class="prettyprint">cart</code>.</td>
</tr>
<tr>
<td>country</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_3166-1">ISO 3166-1</a></td>
<td>no</td>
<td>Country code.</td>
</tr>
<tr>
<td>locale</td>
<td><a href="https://en.wikipedia.org/wiki/ISO_639">ISO 639</a> &amp; <a href="http://es.wikipedia.org/wiki/ISO_3166-1">ISO 3166-1</a></td>
<td>no</td>
<td>l10n, widget localization.</td>
</tr>
</tbody></table>

<p><img alt="Widget" src="https://cloud.githubusercontent.com/assets/5514990/11610272/bb025c48-9b9d-11e5-8e3f-aa07f0b46245.png" /></p>

<h2 id="api-rest">+ API REST</h2>

<h2 id="detail">○ Detail</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/merchants/:merchantId/widgets/:viewId</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
    "id": "84d7dd7a5e20473cad8da25f29d065a2",
    "type": "button",
    "preferences": {
        "branding": true,
        "align": "left",
        "bg_color": "#bd1b9a",
        "text_color": "#b7bea1"
    },
    "disabled": null,
    "created": "2016-03-16T09:04:18.083832"
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/widgets/:viewId"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">widget</span><span class="p">(</span><span class="s">':viewId'</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/merchants/:merchantId/widgets/:viewId</code></p>

<p>To retrieve widgets options.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:merchantId</td>
<td>string</td>
<td>String <code class="prettyprint">id</code> of the merchant to perform action with.</td>
</tr>
<tr>
<td>:viewId</td>
<td>select</td>
<td>Choices are <code class="prettyprint">product</code> or <code class="prettyprint">cart</code>.</td>
</tr>
</tbody></table>

<h2 id="update">○ Update</h2>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/merchants/:merchantId/widgets/:viewId</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>

{
    "type": "button",
    "preferences": {
        "branding": false,
        "align": "right",
        "bg_color": "#54a974",
        "text_color": "#b27604"
    }
}
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
    "id": "84d7dd7a5e20473cad8da25f29d065a2",
    "type": "button",
    "preferences": {
        "branding": false,
        "align": "right",
        "bg_color": "#54a974",
        "text_color": "#b27604"
    },
    "disabled": null,
    "created": "2016-03-16T09:04:18.083832"
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/widgets/:viewId"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    -X PUT<span class="se">\</span>
    --data-binary <span class="s1">'{
        "type": "button",
        "preferences": {
            "branding": false,
            "align": "right",
            "bg_color": "#54a974",
            "text_color": "#b27604"
        }
    }'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">put_widget</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="s">':viewId'</span><span class="p">,</span> <span class="p">{</span>
    <span class="s">'type'</span><span class="p">:</span> <span class="s">'button'</span><span class="p">,</span>
    <span class="s">'preferences'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'branding'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
        <span class="s">'align'</span><span class="p">:</span> <span class="s">'right'</span><span class="p">,</span>
        <span class="s">'bg_color'</span><span class="p">:</span> <span class="s">'#54a974'</span><span class="p">,</span>
        <span class="s">'text_color'</span><span class="p">:</span> <span class="s">'#b27604'</span>
    <span class="p">}</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">PUT https://api.aplazame.com/merchants/:merchantId/widgets/:viewId</code></p>

<p>To update widgets.</p>

<h3 id="payload">Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>select</td>
<td>yes</td>
<td>Choices are <code class="prettyprint">button</code> (preferences) and <code class="prettyprint">raw</code> (styles).</td>
</tr>
<tr>
<td>preferences</td>
<td>obj</td>
<td>if <code class="prettyprint">type</code> is <code class="prettyprint">button</code></td>
<td>Widget preferences.</td>
</tr>
<tr>
<td>preferences.branding</td>
<td>select</td>
<td>yes</td>
<td>Determines if the branding is displayed.</td>
</tr>
<tr>
<td>preferences.align</td>
<td>select</td>
<td>yes</td>
<td>Widget align, choices are <code class="prettyprint">center</code>, <code class="prettyprint">left</code>, <code class="prettyprint">right</code>, <code class="prettyprint">fill</code>.</td>
</tr>
<tr>
<td>preferences.bg_color</td>
<td><a href="http://www.w3schools.com/cssref/css_colors.asp">css color</a></td>
<td>yes</td>
<td>Background color.</td>
</tr>
<tr>
<td>preferences.text_color</td>
<td><a href="http://www.w3schools.com/cssref/css_colors.asp">css color</a></td>
<td>yes</td>
<td>Text color.</td>
</tr>
<tr>
<td>styles</td>
<td>obj</td>
<td>if <code class="prettyprint">type</code> is <code class="prettyprint">raw</code></td>
<td>CSS styles.</td>
</tr>
</tbody></table>

<h2 id="partial-update">○ Partial update</h2>
<pre class="highlight http"><code><span class="nf">PATCH</span> <span class="nn">/merchants/:merchantId/widgets/:viewId</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>

{
    "preferences": {
        "branding": false
    }
}
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
    "id": "84d7dd7a5e20473cad8da25f29d065a2",
    "type": "button",
    "preferences": {
        "branding": false,
        "align": "left",
        "bg_color": "#bd1b9a",
        "text_color": "#b7bea1"
    },
    "disabled": null,
    "created": "2016-03-16T09:04:18.083832"
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/widgets/:viewId"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    -X PATCH<span class="se">\</span>
    --data-binary <span class="s1">'{
        "preferences": {
            "branding": false
        }
    }'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">patch_widget</span><span class="p">(</span><span class="s">':merchantId'</span><span class="p">,</span> <span class="s">':viewId'</span><span class="p">,</span> <span class="p">{</span>
    <span class="s">'preferences'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'branding'</span><span class="p">:</span> <span class="bp">False</span>
    <span class="p">}</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">PATCH https://api.aplazame.com/merchants/:merchantId/widgets/:viewId</code></p>

<p>To update partial widgets.</p>

<h3 id="payload">Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>select</td>
<td>no</td>
<td>Choices are <code class="prettyprint">button</code> (preferences) and <code class="prettyprint">raw</code> (styles).</td>
</tr>
<tr>
<td>preferences</td>
<td>obj</td>
<td>if <code class="prettyprint">type</code> is <code class="prettyprint">button</code></td>
<td>Widget preferences.</td>
</tr>
<tr>
<td>preferences.branding</td>
<td>select</td>
<td>no</td>
<td>Determines if the branding is displayed.</td>
</tr>
<tr>
<td>preferences.align</td>
<td>select</td>
<td>no</td>
<td>Widget align, choices are <code class="prettyprint">center</code>, <code class="prettyprint">left</code>, <code class="prettyprint">right</code>, <code class="prettyprint">fill</code>.</td>
</tr>
<tr>
<td>preferences.bg_color</td>
<td><a href="http://www.w3schools.com/cssref/css_colors.asp">css color</a></td>
<td>no</td>
<td>Background color.</td>
</tr>
<tr>
<td>preferences.text_color</td>
<td><a href="http://www.w3schools.com/cssref/css_colors.asp">css color</a></td>
<td>no</td>
<td>Text color.</td>
</tr>
<tr>
<td>styles</td>
<td>obj</td>
<td>if <code class="prettyprint">type</code> is <code class="prettyprint">raw</code></td>
<td>CSS styles.</td>
</tr>
</tbody></table>

<h2 id="enable">○ Enable</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/merchants/:merchantId/widgets/:viewId/enable</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/widgets/:viewId/enable"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    -X POST
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">enable_widget</span><span class="p">(</span><span class="s">'viewId'</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">POST https://api.aplazame.com/merchants/:merchantId/widgets/:viewId/enable</code></p>

<p>To enable widget.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:merchantId</td>
<td>string</td>
<td>String <code class="prettyprint">id</code> of the merchant to perform action with.</td>
</tr>
<tr>
<td>:viewId</td>
<td>select</td>
<td>Choices are <code class="prettyprint">product</code> or <code class="prettyprint">cart</code>.</td>
</tr>
</tbody></table>

<h2 id="disable">○ Disable</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/merchants/:merchantId/widgets/:viewId/disable</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/merchants/:merchantId/widgets/:viewId/disable"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span><span class="se">\</span>
    -X POST
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">disable_widget</span><span class="p">(</span><span class="s">'viewId'</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">POST https://api.aplazame.com/merchants/:merchantId/widgets/:viewId/disable</code></p>

<p>To disable widget.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:merchantId</td>
<td>string</td>
<td>String <code class="prettyprint">id</code> of the merchant to perform action with.</td>
</tr>
<tr>
<td>:viewId</td>
<td>select</td>
<td>Choices are <code class="prettyprint">product</code> or <code class="prettyprint">cart</code>.</td>
</tr>
</tbody></table>

          <h1 id="customers">+ Customers</h1>

<h2 id="list">List</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/customers</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/customers"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">aplazame_sdk</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">aplazame_sdk</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="s">'-&gt;AccessToken&lt;-'</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">customers</span><span class="p">()</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/customers</code></p>

<p>To retrieve customer queryset.</p>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cursor</td>
<td>object</td>
<td>Pagination cursor object.</td>
</tr>
<tr>
<td>paging</td>
<td>object</td>
<td>Pagination state.</td>
</tr>
<tr>
<td>results</td>
<td>collection</td>
<td>Customer queryset.</td>
</tr>
</tbody></table>

<h2 id="filter">○ Filter</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/customers?param=value</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/customers?param=value"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">customers</span><span class="p">({</span>
  <span class="s">'param'</span><span class="p">:</span> <span class="s">'value'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/customers?param=value</code></p>

<p>To retrieve customer queryset filtered.</p>

<p><strong>Filters lookups</strong> are listed <strong><a href="#filters">HERE</a></strong>, <code class="prettyprint">string</code>, <code class="prettyprint">choices</code>, <code class="prettyprint">range</code>, <code class="prettyprint">isnull</code> and <code class="prettyprint">date</code>.</p>

<h3 id="customer-filter">Customer filter</h3>

<blockquote>
<p>Phone number exact</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/customers?phone-number=612345678</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/customers?phone-number=612345678"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">customers</span><span class="p">({</span>
  <span class="s">'phone-number'</span><span class="p">:</span> <span class="s">'612345678'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>hash</td>
<td><code class="prettyprint">string</code></td>
<td>Customer <code class="prettyprint">ID</code>.</td>
</tr>
<tr>
<td>phone-number</td>
<td>string</td>
<td><code class="prettyprint">string</code></td>
<td>Customer mobile phone number.</td>
</tr>
<tr>
<td>phone-country</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_3166-1">ISO 3166-1</a></td>
<td><code class="prettyprint">string</code></td>
<td>Customer phone country.</td>
</tr>
<tr>
<td>created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td><code class="prettyprint">date</code>, <code class="prettyprint">range</code></td>
<td>A datetime designating when the customer was created.</td>
</tr>
</tbody></table>

<h3 id="document-id-filter">Document id filter</h3>

<blockquote>
<p>Document ID type, choices are nif OR nie</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/customers?document_id-type=nif&amp;document_id-type=nie</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/customers?document_id-type=nif&amp;document_id-type=nie"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">customers</span><span class="p">({</span>
  <span class="s">'document_id-type'</span><span class="p">:</span> <span class="p">[</span><span class="s">'nif'</span><span class="p">,</span> <span class="s">'nie'</span><span class="p">]</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Filters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>document_id-number</td>
<td>string</td>
<td><code class="prettyprint">string</code></td>
<td>Customer document id number.</td>
</tr>
<tr>
<td>document_id-country</td>
<td><a href="http://es.wikipedia.org/wiki/ISO_3166-1">ISO 3166-1</a></td>
<td><code class="prettyprint">string</code></td>
<td>Customer document id country.</td>
</tr>
<tr>
<td>document_id-type</td>
<td>string</td>
<td><code class="prettyprint">choices</code></td>
<td>Customer document id type, the choices are <code class="prettyprint">nif</code>, <code class="prettyprint">nie</code>, <code class="prettyprint">cif</code>, <code class="prettyprint">passport</code>, <code class="prettyprint">others</code>.</td>
</tr>
</tbody></table>

<h2 id="search">○ Search</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/customers?q=param1,param2,...</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/customers?q=param1,param2,..."</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">customers</span><span class="p">({</span>
  <span class="s">'q'</span><span class="p">:</span> <span class="s">'param1,param2,...'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/customers?q=param1,param2,...</code></p>

<p>To search customer queryset.</p>

<p>Aplazame API allows a list of field names that will be searched whenever somebody submits a search query param <code class="prettyprint">q</code>.</p>

<p>Searches will use case-insensitive partial matches. The search parameter may contain multiple search terms, which should be whitespace and/or comma separated. If multiple search terms are used then objects will be returned in the list only if all the provided terms are matched.</p>

<h3 id="fields">Fields</h3>

<blockquote>
<p>Search by name</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/customers?q=Alice</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/customers?q=Alice"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">customers</span><span class="p">({</span>
  <span class="s">'q'</span><span class="p">:</span> <span class="s">'Alice'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>full_name</td>
<td>The customer full name.</td>
</tr>
</tbody></table>

<h2 id="order">○ Order</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/customers?ordering=param1,-param2,...</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/customers?ordering=param1,-param2,..."</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">customers</span><span class="p">({</span>
  <span class="s">'ordering'</span><span class="p">:</span> <span class="s">'param1,-param2,...'</span>
<span class="p">})</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/customers?ordering=param1,-param2,...</code></p>

<p>To retrieve customer queryset oredered.</p>

<p>The ordering param is a tuple or list of strings. Each string is a field name with an optional <code class="prettyprint">-</code> prefix, which indicates descending order. Fields without a leading <code class="prettyprint">-</code> will be ordered ascending.</p>

<h3 id="order-by">order by&hellip;</h3>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/customers?ordering=-created</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/customers?ordering=-created"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">customers</span><span class="p">({</span>
  <span class="s">'ordering'</span><span class="p">:</span> <span class="s">'-created'</span>
<span class="p">})</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>created</td>
<td><a href="https://es.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
<td>A datetime designating when the customer was created.</td>
</tr>
</tbody></table>

<h2 id="detail">Detail</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/customers/:customerId</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer -&gt;AccessToken&lt;-</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.aplazame.com</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "id": ":customerId",
  "...": "..."
}
</code></pre>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://api.aplazame.com/customers/:customerId"</span> <span class="se">\</span>
    -H <span class="s2">"Accept: application/vnd.aplazame.v1+json"</span> <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer -&gt;AccessToken&lt;-"</span>
</code></pre>
<pre class="highlight python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_customer</span><span class="p">(</span><span class="s">':customerId'</span><span class="p">)</span>
</code></pre>

<p><code class="prettyprint">GET https://api.aplazame.com/customers/:customerId</code></p>

<p>If you want to check the status of an customer, this is the service you need.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:customerId</td>
<td>string</td>
<td>String <code class="prettyprint">id</code> of the customer to perform action with.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>object</td>
<td>Customer id,</td>
</tr>
<tr>
<td>&hellip;</td>
<td>&hellip;</td>
<td>&hellip;</td>
</tr>
</tbody></table>

          <h1 id="buttons">Buttons</h1>

<h3 id="small-white-148x46">Small white 148x46</h3>

<p><code class="prettyprint">https://aplazame.com/static/img/buttons/white-148x46.png</code></p>

<p><img alt="Button white-148x46" src="https://aplazame.com/static/img/buttons/white-148x46.png" /></p>

<h3 id="small-blue-148x46">Small blue 148x46</h3>

<p><code class="prettyprint">https://aplazame.com/static/img/buttons/blue-148x46.png</code></p>

<p><img alt="Button blue-148x46" src="https://aplazame.com/static/img/buttons/blue-148x46.png" /></p>

<p>If you need any <strong>additional button</strong>, please drop us an email at <a href="mailto:soporte@aplazame.com?subject=Take your button!!">soporte@aplazame.com</a>.</p>

          <h1 id="api-clients"><img alt="github" src="http://icons.iconarchive.com/icons/social-media-icons/social-buntings/32/Github-icon.png" /> API Clients</h1>

<p>The following clients are maintained by the Aplazame development team:</p>

<ul>
<li><a href="https://github.com/aplazame/aplazame-sdk">Python Sdk</a></li>
<li><a href="https://github.com/aplazame/aplazame-js">Aplazame JS</a></li>
<li>Php Sdk (coming soon)</li>
</ul>

<h1 id="e-commerce-modules"><img alt="github" src="http://icons.iconarchive.com/icons/social-media-icons/social-buntings/32/Github-icon.png" /> E-commerce modules</h1>

<p>The following modules are maintained by the Aplazame development team:</p>

<ul>
<li><a href="https://github.com/aplazame/magento">Magento</a></li>
<li><a href="https://github.com/aplazame/prestashop">Prestashop</a></li>
<li><a href="https://github.com/aplazame/woocommerce">WooCommerce</a></li>
</ul>

          <h1 id="errors"><img alt="shell" src="http://aplazame.com/static/img/docs/shell.gif" /> Errors</h1>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">BAD REQUEST</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "error": {
    "fields": {
      "articles": [
        "This field is required."
      ]
    }, 
    "message": "API validation error", 
    "type": "ApiValidationException"
  }
}
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">401</span> <span class="ne">UNAUTHORIZED</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "error": {
    "message": "Authentication credentials were not provided.", 
    "type": "UnauthorizedException"
  }
}
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">404</span> <span class="ne">NOT FOUND</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.aplazame.v1+json</span>

{
  "error": {
    "fields": {
      "order__id": "145000006"
    }, 
    "message": "Object not found", 
    "type": "ObjectNotFoundException"
  }
}
</code></pre>

<p>We show below a list of the error codes returned by the API and the status codes in the response and the reason why your request is not correct.</p>

<table><thead>
<tr>
<th>Code</th>
<th>Error</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request</td>
<td>If the data have not been correctly validated</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized</td>
<td>If the token is not found in the request or it is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>If you do not have permission to do this operation</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>If the object or the resource is not found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed</td>
<td>You tried to access with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable</td>
<td>You requested a format that is not valid (check the <code class="prettyprint">Accept</code> header)</td>
</tr>
<tr>
<td>408</td>
<td>Request timeout</td>
<td>The server timed out waiting for the request, or something has already expired</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
<td>Indicates that the request could not be processed because of conflict in the request</td>
</tr>
<tr>
<td>415</td>
<td>Unsupported Media Type</td>
<td>Raised if there are no parsers that can handle the content type of the request data</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests</td>
<td>If multiple simultaneous requests are made. Slown down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
<td>Houston, we have a problem. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable</td>
<td>We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

          <h1 id="release-history">Release History</h1>

<h2 id="0-0-5-dev">0.0.5-dev</h2>

<p><strong>Duck season</strong></p>

<ul>
<li>Merchant <code class="prettyprint">/payments</code>, <code class="prettyprint">/operations</code> and  <code class="prettyprint">/instalment-payments</code> endpoints</li>
<li>Filters review</li>
<li>Replace opearion type, <code class="prettyprint">order</code> by <code class="prettyprint">credit</code></li>
<li>Price does not include the tax</li>
<li>Widget, add attributes and remove unused options</li>
<li>Operations and payments summary</li>
<li>Jazz dummy data</li>
<li>Real time, socket.io and JWT</li>
<li>Confirm using pseudocode</li>
<li>Merchants (create, edit, disable), hostnames, invoices, campaigns and widgets endpoints</li>
</ul>

<h2 id="0-0-4-2015-12-05">0.0.4 (2015-12-05)</h2>

<p><strong>Untitled</strong></p>

<ul>
<li><code class="prettyprint">/me</code> for the current merchant</li>
<li><code class="prettyprint">operations</code> endpoint</li>
<li><code class="prettyprint">simulator</code> widget</li>
<li>WooCommerce package</li>
<li><code class="prettyprint">selector option</code> on button script for <em>One Step Checkouts</em> modules</li>
<li>More improvements, fixes&hellip;</li>
<li>Filters and lookups</li>
<li>Replace release plan</li>
</ul>

<h2 id="0-0-3-2015-08-17">0.0.3 (2015-08-17)</h2>

<p><strong>Diesel Truckers</strong></p>

<ul>
<li>Aplazame JS (Swiss Army knife)</li>
<li>Amazing Checkout v2</li>
<li><code class="prettyprint">country</code> param in button request (not required)</li>
<li>Show <code class="prettyprint">one time password</code> in sandbox mode</li>
<li>Remove <code class="prettyprint">merchant.public_api_key</code> on checkout</li>
<li>Rename <code class="prettyprint">postcode</code> field</li>
<li>Fix field types</li>
<li>Add 408, 409, 415 errors</li>
<li>204 No Content</li>
<li>Endpoint schema</li>
<li>Live demos</li>
</ul>

<h2 id="0-0-2-2015-06-15">0.0.2 (2015-06-15)</h2>

<p><strong>The Cow</strong></p>

<p>Birth!</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="http">http</a>
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="js">js</a>
          </div>
      </div>
    </div>
  </body>
</html>
